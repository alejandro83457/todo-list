(()=>{"use strict";class t{#t=[];addTodo(t){this.#t.push(t)}get inbox(){return this.#t}removeTodo(t){let e;for(let o=0;o<this.#t.length;o++)this.#t[o].title==t&&(e=o);this.#t.splice(e,1)}stringify(){let t=[];for(let e of this.#t)t.push(e.getTodo());return JSON.stringify(t)}showInbox(){for(let t of this.#t)t.showTodo()}}class e{#e;#o;#i;#r;constructor(t,e,o,i){this.#e=t,this.#o=e,this.#i=o,this.#r=i}get title(){return this.#e}get description(){return this.#o}get due(){return this.#i}get priority(){return this.#r}getTodo(){return{title:this.#e,description:this.#o,due:this.#i,priority:this.#r}}showTodo(){console.log(`\t${this.#e} ${this.#o} ${this.#i} ${this.#r}`)}}class o{#e;#o;constructor(t,e){this.#e=t,this.#o=e}get title(){return this.#e}get description(){return this.#o}getTodo(){return{title:this.#e,description:this.#o}}showTodo(){console.log(`${this.#e} ${this.#o}`)}}class i{#n=[];get projects(){return this.#n}addProject(t){this.#n.push(t)}removeProject(t){let e;for(let o=0;o<this.#n.length;o++)this.#n[o].title==t&&(e=o);this.#n.splice(e,1)}stringify(){let t=[];for(let e of this.#n)t.push(e.stringify());return JSON.stringify(t)}showProjects(){for(let t of this.#n)t.showProject()}}class r{#l={};constructor(t){this.#l.title=t,this.#l.todos=[]}get projectTitle(){return this.#l.title}get project(){return this.#l}stringify(){let t={};t.title=this.#l.title,t.todos=[];for(let e of this.#l.todos)t.todos.push(e.getTodo());return t}addTodo(t){this.#l.todos.push(t)}showProject(){console.log(this.#l.title);for(let t of this.#l.todos)t.showTodo()}}function n(t){localStorage.inbox=t.stringify()}function l(t){localStorage.projects=t.stringify()}function d(){let t=document.querySelector("#list");for(;t.childNodes.length>0;)t.removeChild(t.firstChild);document.querySelector("#inbox-form")?document.querySelector("#inbox-form").remove():document.querySelector("#project-form")&&document.querySelector("#project-form").remove()}function c(){let t=document.querySelector("#projects-list");for(;t.childNodes.length>0;)t.removeChild(t.firstChild)}function u(t){let e=document.querySelector("#list"),o=t.project.todos;for(let t of o){let o=document.createElement("li");o.setAttribute("data",t.title);let i=document.createElement("div");i.textContent=`${t.title} ${t.description} ${t.due} ${t.priority}`,o.appendChild(i),e.appendChild(o)}}function s(t,e){for(let o of t.projects){let i=document.createElement("li");i.addEventListener("click",(()=>{document.querySelector("#inbox-form")&&document.querySelector("#inbox-form").remove(),d(),u(o),a(o,t)}));let r=document.createElement("div");r.textContent=`${o.projectTitle}`,i.appendChild(r),e.appendChild(i)}}function p(t){let e=document.createElement("input");return e.setAttribute("type","checkbox"),e.addEventListener("change",(e=>{t.removeTodo(e.target.parentElement.getAttribute("data")),function(t){t.target.parentElement.remove()}(e),n(t)})),e}function a(t,o){let i=document.querySelector("#list"),r=document.createElement("div");r.setAttribute("id","project-form");let n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("id","title"),n.setAttribute("placeholder","Title");let d=document.createElement("input");d.setAttribute("type","text"),d.setAttribute("id","description"),d.setAttribute("placeholder","Description");let c=new Date,u=`${c.getFullYear()}-${(c.getMonth()+1).toString().padStart(2,"0")}-${c.getDate().toString().padStart(2,"0")}`,s=document.createElement("input");s.setAttribute("id","due"),s.setAttribute("type","date"),s.setAttribute("value",u);let p=document.createElement("select");p.setAttribute("id","priority");let a=["low","medium","high"];for(let t of a){let e=document.createElement("option");e.setAttribute("value",t),e.textContent=t,p.appendChild(e)}let h=document.createElement("button");h.setAttribute("type","button"),h.setAttribute("id","add-todo-button"),h.textContent="Add",h.addEventListener("click",(()=>{!function(t,o,i){let r=document.querySelector("#title"),n=document.querySelector("#description"),d=document.querySelector("#due"),c=document.querySelector("#priority"),u=document.createElement("li");u.setAttribute("data",r.value);let s=document.createElement("div");s.textContent=`${r.value} ${n.value} ${d.value} ${c.value}`,u.appendChild(s),i.appendChild(u);let p=new e(r.value,n.value,d.value,c.value);t.addTodo(p),l(o)}(t,o,i),document.querySelector("#title").value="",document.querySelector("#description").value="",document.querySelector("#due").value=u})),r.appendChild(n),r.appendChild(d),r.appendChild(s),r.appendChild(p),r.appendChild(h),i.parentNode.appendChild(r)}let h,m;document.querySelector("#inbox").addEventListener("click",(()=>{let t=document.querySelector("#list");d(),function(t,e){for(let o of t.inbox){let i=document.createElement("li");i.setAttribute("data",o.title);let r=document.createElement("div");r.textContent=`${o.title} ${o.description}`;let n=p(t);i.appendChild(n),i.appendChild(r),e.appendChild(i)}}(h,t),function(t,e){let i=document.createElement("div");i.setAttribute("id","inbox-form");let r=document.createElement("input");r.setAttribute("type","text"),r.setAttribute("id","title"),r.setAttribute("placeholder","Title");let l=document.createElement("input");l.setAttribute("type","text"),l.setAttribute("id","description"),l.setAttribute("placeholder","Description");let d=document.createElement("button");d.setAttribute("type","button"),d.setAttribute("id","add-todo-button"),d.textContent="Add",d.addEventListener("click",(()=>{!function(t,e){let i=document.querySelector("#title"),r=document.querySelector("#description"),l=document.createElement("li");l.setAttribute("data",i.value);let d=document.createElement("div");d.textContent=`${i.value} ${r.value}`;let c=p(t);l.appendChild(c),l.appendChild(d),e.appendChild(l);let u=new o(i.value,r.value);t.addTodo(u),n(t)}(t,e),document.querySelector("#title").value="",document.querySelector("#description").value=""})),i.appendChild(r),i.appendChild(l),i.appendChild(d),e.parentNode.appendChild(i)}(h,t)})),document.querySelector("#projects").addEventListener("click",(()=>{let t=document.querySelector("#projects-list");t.childNodes.length>0?c():(c(),s(m,t)),m.showProjects()})),document.querySelector("#add-project").addEventListener("click",(()=>{let t=document.querySelector("#projects-list");c(),s(m,t),function(t,e){let o=document.createElement("div"),i=document.createElement("input"),n=document.createElement("div");o.setAttribute("id","project-name-container"),i.setAttribute("type","text"),i.setAttribute("id","project-name"),i.setAttribute("placeholder","Project name"),n.setAttribute("id","add-project-button"),n.textContent="Add",n.addEventListener("click",(()=>{t.addProject(new r(i.value)),c(),s(t,e),l(t)})),o.appendChild(i),o.appendChild(n),e.appendChild(o)}(m,t)})),function(){if(console.log(typeof localStorage.getItem("projects")),0==localStorage.length){console.log("Empty. Loading content...");let t=[],e=[];localStorage.setItem("inbox",JSON.stringify(t)),localStorage.setItem("projects",JSON.stringify(e))}else console.log("Content found.")}(),h=function(){let e=localStorage.getItem("inbox");e=JSON.parse(e);let i=new t;for(let t of e){let e=t.title,r=t.description,n=new o(e,r);i.addTodo(n)}return i}(),m=function(){let t=localStorage.getItem("projects");t=JSON.parse(t);let o=new i;if(0==t.length)return o;for(let i of t){let t=i.title,n=i.todos,l=new r(t);for(let t of n){let o=t.title,i=t.description,r=t.due,n=t.priority,d=new e(o,i,r,n);l.addTodo(d)}o.addProject(l)}return o}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dG9kby1saXN0Ly4vc3JjL2luYm94LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy90b2RvLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9wcm9qZWN0LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9zdG9yYWdlLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9oZWxwZXJGdW5jdGlvbnMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2Zvcm0uanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEluYm94IHtcbiAgI2luYm94ID0gW107XG5cbiAgYWRkVG9kbyh0b2RvKSB7XG4gICAgdGhpcy4jaW5ib3gucHVzaCh0b2RvKTtcbiAgfVxuXG4gIGdldCBpbmJveCgpIHtcbiAgICByZXR1cm4gdGhpcy4jaW5ib3g7XG4gIH1cblxuICByZW1vdmVUb2RvKHRpdGxlKSB7XG4gICAgbGV0IGluZGV4O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy4jaW5ib3gubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLiNpbmJveFtpXS50aXRsZSA9PSB0aXRsZSkgaW5kZXggPSBpO1xuICAgIH1cbiAgICB0aGlzLiNpbmJveC5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG5cbiAgc3RyaW5naWZ5KCkge1xuICAgIGxldCBpbmJveCA9IFtdO1xuICAgIGZvciAobGV0IHRvZG8gb2YgdGhpcy4jaW5ib3gpIHtcbiAgICAgIGluYm94LnB1c2godG9kby5nZXRUb2RvKCkpO1xuICAgIH1cbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoaW5ib3gpO1xuICB9XG5cbiAgc2hvd0luYm94KCkge1xuICAgIGZvciAobGV0IHRvZG8gb2YgdGhpcy4jaW5ib3gpIHtcbiAgICAgIHRvZG8uc2hvd1RvZG8oKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHsgSW5ib3ggfTtcbiIsIi8vIFVzZWQgZm9yIHByb2plY3RzXG5jbGFzcyBUb2RvIHtcbiAgI3RpdGxlO1xuICAjZGVzY3JpcHRpb247XG4gICNkdWU7XG4gICNwcmlvcml0eTtcbiAgY29uc3RydWN0b3IodGl0bGUsIGRlc2NyaXB0aW9uLCBkdWUsIHByaW9yaXR5KSB7XG4gICAgdGhpcy4jdGl0bGUgPSB0aXRsZTtcbiAgICB0aGlzLiNkZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgIHRoaXMuI2R1ZSA9IGR1ZTtcbiAgICB0aGlzLiNwcmlvcml0eSA9IHByaW9yaXR5O1xuICB9XG4gIGdldCB0aXRsZSgpIHtcbiAgICByZXR1cm4gdGhpcy4jdGl0bGU7XG4gIH1cbiAgZ2V0IGRlc2NyaXB0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLiNkZXNjcmlwdGlvbjtcbiAgfVxuICBnZXQgZHVlKCkge1xuICAgIHJldHVybiB0aGlzLiNkdWU7XG4gIH1cbiAgZ2V0IHByaW9yaXR5KCkge1xuICAgIHJldHVybiB0aGlzLiNwcmlvcml0eTtcbiAgfVxuICBnZXRUb2RvKCkge1xuICAgIGxldCB0aXRsZSA9IHRoaXMuI3RpdGxlO1xuICAgIGxldCBkZXNjcmlwdGlvbiA9IHRoaXMuI2Rlc2NyaXB0aW9uO1xuICAgIGxldCBkdWUgPSB0aGlzLiNkdWU7XG4gICAgbGV0IHByaW9yaXR5ID0gdGhpcy4jcHJpb3JpdHk7XG4gICAgcmV0dXJuIHsgdGl0bGUsIGRlc2NyaXB0aW9uLCBkdWUsIHByaW9yaXR5IH07XG4gIH1cbiAgc2hvd1RvZG8oKSB7XG4gICAgY29uc29sZS5sb2coXG4gICAgICBgXFx0JHt0aGlzLiN0aXRsZX0gJHt0aGlzLiNkZXNjcmlwdGlvbn0gJHt0aGlzLiNkdWV9ICR7dGhpcy4jcHJpb3JpdHl9YFxuICAgICk7XG4gIH1cbn1cblxuLy8gVXNlZCBmb3IgaW5ib3ggb25seVxuY2xhc3MgU2ltcGxlVG9kbyB7XG4gICN0aXRsZTtcbiAgI2Rlc2NyaXB0aW9uO1xuICBjb25zdHJ1Y3Rvcih0aXRsZSwgZGVzY3JpcHRpb24pIHtcbiAgICB0aGlzLiN0aXRsZSA9IHRpdGxlO1xuICAgIHRoaXMuI2Rlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gIH1cbiAgZ2V0IHRpdGxlKCkge1xuICAgIHJldHVybiB0aGlzLiN0aXRsZTtcbiAgfVxuICBnZXQgZGVzY3JpcHRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuI2Rlc2NyaXB0aW9uO1xuICB9XG4gIGdldFRvZG8oKSB7XG4gICAgbGV0IHRpdGxlID0gdGhpcy4jdGl0bGU7XG4gICAgbGV0IGRlc2NyaXB0aW9uID0gdGhpcy4jZGVzY3JpcHRpb247XG4gICAgcmV0dXJuIHsgdGl0bGUsIGRlc2NyaXB0aW9uIH07XG4gIH1cbiAgc2hvd1RvZG8oKSB7XG4gICAgY29uc29sZS5sb2coYCR7dGhpcy4jdGl0bGV9ICR7dGhpcy4jZGVzY3JpcHRpb259YCk7XG4gIH1cbn1cblxuZXhwb3J0IHsgVG9kbywgU2ltcGxlVG9kbyB9O1xuIiwiZXhwb3J0IGNsYXNzIFByb2plY3RzIHtcbiAgI3Byb2plY3RzID0gW107XG5cbiAgZ2V0IHByb2plY3RzKCkge1xuICAgIHJldHVybiB0aGlzLiNwcm9qZWN0cztcbiAgfVxuXG4gIGFkZFByb2plY3QocHJvamVjdCkge1xuICAgIHRoaXMuI3Byb2plY3RzLnB1c2gocHJvamVjdCk7XG4gIH1cblxuICByZW1vdmVQcm9qZWN0KHRpdGxlKSB7XG4gICAgbGV0IGluZGV4O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy4jcHJvamVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLiNwcm9qZWN0c1tpXS50aXRsZSA9PSB0aXRsZSkgaW5kZXggPSBpO1xuICAgIH1cbiAgICB0aGlzLiNwcm9qZWN0cy5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG5cbiAgc3RyaW5naWZ5KCkge1xuICAgIGxldCBwcm9qZWN0cyA9IFtdO1xuICAgIGZvciAobGV0IHByb2plY3Qgb2YgdGhpcy4jcHJvamVjdHMpIHtcbiAgICAgIHByb2plY3RzLnB1c2gocHJvamVjdC5zdHJpbmdpZnkoKSk7XG4gICAgfVxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShwcm9qZWN0cyk7XG4gIH1cblxuICBzaG93UHJvamVjdHMoKSB7XG4gICAgZm9yIChsZXQgcHJvamVjdCBvZiB0aGlzLiNwcm9qZWN0cykge1xuICAgICAgcHJvamVjdC5zaG93UHJvamVjdCgpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUHJvamVjdCB7XG4gICNwcm9qZWN0ID0ge307XG4gIGNvbnN0cnVjdG9yKHRpdGxlKSB7XG4gICAgdGhpcy4jcHJvamVjdFtcInRpdGxlXCJdID0gdGl0bGU7XG4gICAgdGhpcy4jcHJvamVjdFtcInRvZG9zXCJdID0gW107XG4gIH1cbiAgZ2V0IHByb2plY3RUaXRsZSgpIHtcbiAgICByZXR1cm4gdGhpcy4jcHJvamVjdFtcInRpdGxlXCJdO1xuICB9XG4gIGdldCBwcm9qZWN0KCkge1xuICAgIHJldHVybiB0aGlzLiNwcm9qZWN0O1xuICB9XG4gIHN0cmluZ2lmeSgpIHtcbiAgICBsZXQgcHJvamVjdCA9IHt9O1xuICAgIHByb2plY3RbXCJ0aXRsZVwiXSA9IHRoaXMuI3Byb2plY3RbXCJ0aXRsZVwiXTtcbiAgICBwcm9qZWN0W1widG9kb3NcIl0gPSBbXTtcbiAgICBmb3IgKGxldCB0b2RvIG9mIHRoaXMuI3Byb2plY3RbXCJ0b2Rvc1wiXSkge1xuICAgICAgcHJvamVjdFtcInRvZG9zXCJdLnB1c2godG9kby5nZXRUb2RvKCkpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvamVjdDtcbiAgfVxuICBhZGRUb2RvKHRvZG8pIHtcbiAgICB0aGlzLiNwcm9qZWN0W1widG9kb3NcIl0ucHVzaCh0b2RvKTtcbiAgfVxuICBzaG93UHJvamVjdCgpIHtcbiAgICBjb25zb2xlLmxvZyh0aGlzLiNwcm9qZWN0W1widGl0bGVcIl0pO1xuICAgIGZvciAobGV0IHRvZG8gb2YgdGhpcy4jcHJvamVjdFtcInRvZG9zXCJdKSB7XG4gICAgICB0b2RvLnNob3dUb2RvKCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBJbmJveCB9IGZyb20gXCIuL2luYm94XCI7XG5pbXBvcnQgeyBTaW1wbGVUb2RvLCBUb2RvIH0gZnJvbSBcIi4vdG9kb1wiO1xuaW1wb3J0IHsgUHJvamVjdHMsIFByb2plY3QgfSBmcm9tIFwiLi9wcm9qZWN0XCI7XG5cbi8vIENoZWNrIGlmIGxvY2FsU3RvcmFnZSBpcyBzZXQgdXAgcHJvcGVybHkuXG4vLyBJZiB3aWxsIG9ubHkgcnVuIG9uY2UgcGVyIGRldmljZS5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja1N0b3JhZ2UoKSB7XG4gIGNvbnNvbGUubG9nKHR5cGVvZiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInByb2plY3RzXCIpKTtcbiAgaWYgKGxvY2FsU3RvcmFnZS5sZW5ndGggPT0gMCkge1xuICAgIGNvbnNvbGUubG9nKFwiRW1wdHkuIExvYWRpbmcgY29udGVudC4uLlwiKTtcbiAgICBsZXQgaW5ib3ggPSBbXTtcbiAgICBsZXQgcHJvamVjdHMgPSBbXTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImluYm94XCIsIEpTT04uc3RyaW5naWZ5KGluYm94KSk7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwcm9qZWN0c1wiLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0cykpO1xuICB9IGVsc2UgY29uc29sZS5sb2coXCJDb250ZW50IGZvdW5kLlwiKTtcbn1cblxuLy8gTG9hZHMgaW5ib3ggZGF0YSBmcm9tIGxvY2FsIHN0b3JhZ2UuXG5leHBvcnQgZnVuY3Rpb24gbG9hZEluYm94RnJvbVN0b3JhZ2UoKSB7XG4gIGxldCBpbmJveEZyb21Mb2NhbCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiaW5ib3hcIik7XG4gIGluYm94RnJvbUxvY2FsID0gSlNPTi5wYXJzZShpbmJveEZyb21Mb2NhbCk7XG4gIGxldCBpbmJveCA9IG5ldyBJbmJveCgpO1xuICBmb3IgKGxldCB0b2RvRnJvbUxvY2FsIG9mIGluYm94RnJvbUxvY2FsKSB7XG4gICAgbGV0IHRpdGxlID0gdG9kb0Zyb21Mb2NhbC50aXRsZTtcbiAgICBsZXQgZGVzY3JpcHRpb24gPSB0b2RvRnJvbUxvY2FsLmRlc2NyaXB0aW9uO1xuICAgIGxldCB0b2RvID0gbmV3IFNpbXBsZVRvZG8odGl0bGUsIGRlc2NyaXB0aW9uKTtcbiAgICBpbmJveC5hZGRUb2RvKHRvZG8pO1xuICB9XG4gIHJldHVybiBpbmJveDtcbn1cblxuLy8gTG9hZHMgcHJvamVjdHMgZnJvbSBsb2NhbCBzdG9yYWdlXG5leHBvcnQgZnVuY3Rpb24gbG9hZFByb2plY3RzRnJvbVN0b3JhZ2UoKSB7XG4gIGxldCBwcm9qZWN0c0Zyb21Mb2NhbCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicHJvamVjdHNcIik7XG4gIHByb2plY3RzRnJvbUxvY2FsID0gSlNPTi5wYXJzZShwcm9qZWN0c0Zyb21Mb2NhbCk7XG4gIGxldCBwcm9qZWN0cyA9IG5ldyBQcm9qZWN0cygpO1xuICBpZiAocHJvamVjdHNGcm9tTG9jYWwubGVuZ3RoID09IDApIHJldHVybiBwcm9qZWN0cztcbiAgZm9yIChsZXQgcHJvamVjdEZyb21Mb2NhbCBvZiBwcm9qZWN0c0Zyb21Mb2NhbCkge1xuICAgIGxldCB0aXRsZSA9IHByb2plY3RGcm9tTG9jYWxbXCJ0aXRsZVwiXTtcbiAgICBsZXQgdG9kb3MgPSBwcm9qZWN0RnJvbUxvY2FsW1widG9kb3NcIl07XG4gICAgbGV0IHByb2plY3QgPSBuZXcgUHJvamVjdCh0aXRsZSk7XG4gICAgZm9yIChsZXQgdG9kbyBvZiB0b2Rvcykge1xuICAgICAgbGV0IHRvZG9UaXRsZSA9IHRvZG9bXCJ0aXRsZVwiXTtcbiAgICAgIGxldCB0b2RvRGVzY3JpcHRpb24gPSB0b2RvW1wiZGVzY3JpcHRpb25cIl07XG4gICAgICBsZXQgdG9kb0R1ZSA9IHRvZG9bXCJkdWVcIl07XG4gICAgICBsZXQgdG9kb1ByaW9yaXR5ID0gdG9kb1tcInByaW9yaXR5XCJdO1xuICAgICAgbGV0IHByb2plY3RUb2RvID0gbmV3IFRvZG8oXG4gICAgICAgIHRvZG9UaXRsZSxcbiAgICAgICAgdG9kb0Rlc2NyaXB0aW9uLFxuICAgICAgICB0b2RvRHVlLFxuICAgICAgICB0b2RvUHJpb3JpdHlcbiAgICAgICk7XG4gICAgICBwcm9qZWN0LmFkZFRvZG8ocHJvamVjdFRvZG8pO1xuICAgIH1cbiAgICBwcm9qZWN0cy5hZGRQcm9qZWN0KHByb2plY3QpO1xuICB9XG4gIHJldHVybiBwcm9qZWN0cztcbn1cblxuLy8gVXBkYXRlcyBzdG9yYWdlIGluIGJyb3dzZXIgdG8gcmVmbGVjdCBhZGRlZCBpdGVtLlxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUluYm94U3RvcmFnZShpbmJveCkge1xuICBsb2NhbFN0b3JhZ2VbXCJpbmJveFwiXSA9IGluYm94LnN0cmluZ2lmeSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlUHJvamVjdHNTdG9yYWdlKHByb2plY3RzKSB7XG4gIGxvY2FsU3RvcmFnZVtcInByb2plY3RzXCJdID0gcHJvamVjdHMuc3RyaW5naWZ5KCk7XG59XG4iLCJpbXBvcnQgeyB1cGRhdGVJbmJveFN0b3JhZ2UsIHVwZGF0ZVByb2plY3RzU3RvcmFnZSB9IGZyb20gXCIuL3N0b3JhZ2VcIjtcbmltcG9ydCB7IFNpbXBsZVRvZG8sIFRvZG8gfSBmcm9tIFwiLi90b2RvXCI7XG5pbXBvcnQgeyBjcmVhdGVQcm9qZWN0Rm9ybSB9IGZyb20gXCIuL2Zvcm1cIjtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUmVtb3ZlIGxpc3QgYnV0dG9uIGV2ZW50IGxpc3RlbmVyXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlUGFyZW50KGUpIHtcbiAgbGV0IHBhcmVudCA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQ7XG4gIHBhcmVudC5yZW1vdmUoKTtcbn1cblxuLy8gUmVtdm9lcyBjaGlsZHJlbiBmcm9tIG1haW5cbi8vIFJlbW92ZXMgZm9ybSBJRiBwcmVzZW50XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW4oKSB7XG4gIGxldCBsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsaXN0XCIpO1xuICB3aGlsZSAobGlzdC5jaGlsZE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICBsaXN0LnJlbW92ZUNoaWxkKGxpc3QuZmlyc3RDaGlsZCk7XG4gIH1cbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5ib3gtZm9ybVwiKSkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5ib3gtZm9ybVwiKS5yZW1vdmUoKTtcbiAgfSBlbHNlIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3QtZm9ybVwiKSkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdC1mb3JtXCIpLnJlbW92ZSgpO1xuICB9XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBDbGVhcnMgbGlzdCBpbiBuYXYuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW5Gcm9tTmF2KCkge1xuICBsZXQgbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdHMtbGlzdFwiKTtcbiAgd2hpbGUgKGxpc3QuY2hpbGROb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgbGlzdC5yZW1vdmVDaGlsZChsaXN0LmZpcnN0Q2hpbGQpO1xuICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFBvcHVsYXRlcyBpbmJveFxuZXhwb3J0IGZ1bmN0aW9uIHBvcHVsYXRlSW5ib3goaW5ib3gsIGxpc3QpIHtcbiAgZm9yIChsZXQgdG9kbyBvZiBpbmJveC5pbmJveCkge1xuICAgIGxldCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgICBsaS5zZXRBdHRyaWJ1dGUoXCJkYXRhXCIsIHRvZG8udGl0bGUpO1xuXG4gICAgbGV0IHRvZG9UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0b2RvVGV4dC50ZXh0Q29udGVudCA9IGAke3RvZG8udGl0bGV9ICR7dG9kby5kZXNjcmlwdGlvbn1gO1xuXG4gICAgbGV0IGNoZWNrYm94ID0gY3JlYXRlQ2hlY2tib3goaW5ib3gpO1xuXG4gICAgLy8gQWRkIGVsZW1lbnRzIHRvIGxpLlxuICAgIGxpLmFwcGVuZENoaWxkKGNoZWNrYm94KTtcbiAgICBsaS5hcHBlbmRDaGlsZCh0b2RvVGV4dCk7XG4gICAgbGlzdC5hcHBlbmRDaGlsZChsaSk7XG4gIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUG9wdWxhdGVzIHByb2plY3RzXG5leHBvcnQgZnVuY3Rpb24gcG9wdWxhdGVNYWluKHByb2plY3QpIHtcbiAgbGV0IGxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xpc3RcIik7XG4gIGxldCB0b2RvcyA9IHByb2plY3QucHJvamVjdFtcInRvZG9zXCJdO1xuICBmb3IgKGxldCB0b2RvIG9mIHRvZG9zKSB7XG4gICAgbGV0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICAgIGxpLnNldEF0dHJpYnV0ZShcImRhdGFcIiwgdG9kby50aXRsZSk7XG5cbiAgICBsZXQgdG9kb1RleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRvZG9UZXh0LnRleHRDb250ZW50ID0gYCR7dG9kby50aXRsZX0gJHt0b2RvLmRlc2NyaXB0aW9ufSAke3RvZG8uZHVlfSAke3RvZG8ucHJpb3JpdHl9YDtcblxuICAgIC8vIFRPRE86IENyZWF0ZSBjaGVja2JveFxuXG4gICAgLy8gQWRkIGVsZW1kZW50cyB0byBsaS5cbiAgICBsaS5hcHBlbmRDaGlsZCh0b2RvVGV4dCk7XG4gICAgbGlzdC5hcHBlbmRDaGlsZChsaSk7XG4gIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUG9wdWxhdGVzIHByb2plY3RzIHRpdGxlIG9uIG5hdlxuZXhwb3J0IGZ1bmN0aW9uIHBvcHVsYXRlUHJvamVjdHMocHJvamVjdHMsIGxpc3QpIHtcbiAgZm9yIChsZXQgcHJvamVjdCBvZiBwcm9qZWN0cy5wcm9qZWN0cykge1xuICAgIGxldCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgICBsaS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5ib3gtZm9ybVwiKSkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2luYm94LWZvcm1cIikucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgICByZW1vdmVDaGlsZHJlbigpO1xuICAgICAgcG9wdWxhdGVNYWluKHByb2plY3QpO1xuICAgICAgY3JlYXRlUHJvamVjdEZvcm0ocHJvamVjdCwgcHJvamVjdHMpO1xuICAgIH0pO1xuXG4gICAgbGV0IHByb2plY3RUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBwcm9qZWN0VGV4dC50ZXh0Q29udGVudCA9IGAke3Byb2plY3QucHJvamVjdFRpdGxlfWA7XG5cbiAgICBsaS5hcHBlbmRDaGlsZChwcm9qZWN0VGV4dCk7XG4gICAgbGlzdC5hcHBlbmRDaGlsZChsaSk7XG4gIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQ3JlYXRlIGFuZCBhZGQgYSB0b2RvIGZvciBpbmJveC5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVRvZG8oaW5ib3gsIGxpc3QpIHtcbiAgbGV0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0aXRsZVwiKTtcbiAgbGV0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkZXNjcmlwdGlvblwiKTtcbiAgbGV0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICBsaS5zZXRBdHRyaWJ1dGUoXCJkYXRhXCIsIHRpdGxlLnZhbHVlKTtcblxuICBsZXQgdG9kb1RleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICB0b2RvVGV4dC50ZXh0Q29udGVudCA9IGAke3RpdGxlLnZhbHVlfSAke2Rlc2NyaXB0aW9uLnZhbHVlfWA7XG5cbiAgLy8gQ2hlY2tib3ggZm9yIHJlbW92aW5nIGxpc3QgaXRlbS5cbiAgbGV0IGNoZWNrYm94ID0gY3JlYXRlQ2hlY2tib3goaW5ib3gpO1xuXG4gIGxpLmFwcGVuZENoaWxkKGNoZWNrYm94KTtcbiAgbGkuYXBwZW5kQ2hpbGQodG9kb1RleHQpO1xuICBsaXN0LmFwcGVuZENoaWxkKGxpKTtcblxuICBsZXQgdG9kbyA9IG5ldyBTaW1wbGVUb2RvKHRpdGxlLnZhbHVlLCBkZXNjcmlwdGlvbi52YWx1ZSk7XG4gIGluYm94LmFkZFRvZG8odG9kbyk7XG5cbiAgdXBkYXRlSW5ib3hTdG9yYWdlKGluYm94KTsgLy8gVXBkYXRlcyBsb2NhbCBzdG9yYWdlXG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIENyZWF0ZSBhbmQgYWRkIGEgdG9kbyBmb3IgcHJvamVjdC5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVRvZG9Qcm9qZWN0KHByb2plY3QsIHByb2plY3RzLCBsaXN0KSB7XG4gIGxldCB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGl0bGVcIik7XG4gIGxldCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVzY3JpcHRpb25cIik7XG4gIGxldCBkdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2R1ZVwiKTtcbiAgbGV0IHByaW9yaXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcmlvcml0eVwiKTtcblxuICBsZXQgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gIGxpLnNldEF0dHJpYnV0ZShcImRhdGFcIiwgdGl0bGUudmFsdWUpO1xuXG4gIC8vIFRPRE86IEFkZCBjaGVja2JveCBmb3IgcmVtb3ZhbFxuXG4gIGxldCB0b2RvVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHRvZG9UZXh0LnRleHRDb250ZW50ID0gYCR7dGl0bGUudmFsdWV9ICR7ZGVzY3JpcHRpb24udmFsdWV9ICR7ZHVlLnZhbHVlfSAke3ByaW9yaXR5LnZhbHVlfWA7XG5cbiAgbGkuYXBwZW5kQ2hpbGQodG9kb1RleHQpO1xuICBsaXN0LmFwcGVuZENoaWxkKGxpKTtcblxuICBsZXQgdG9kbyA9IG5ldyBUb2RvKFxuICAgIHRpdGxlLnZhbHVlLFxuICAgIGRlc2NyaXB0aW9uLnZhbHVlLFxuICAgIGR1ZS52YWx1ZSxcbiAgICBwcmlvcml0eS52YWx1ZVxuICApO1xuXG4gIHByb2plY3QuYWRkVG9kbyh0b2RvKTtcbiAgdXBkYXRlUHJvamVjdHNTdG9yYWdlKHByb2plY3RzKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQ3JlYXRlcyBjaGVja2JveC5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDaGVja2JveChpbmJveCkge1xuICBsZXQgY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gIGNoZWNrYm94LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJjaGVja2JveFwiKTtcbiAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoZSkgPT4ge1xuICAgIGluYm94LnJlbW92ZVRvZG8oZS50YXJnZXQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhXCIpKTtcbiAgICByZW1vdmVQYXJlbnQoZSk7XG4gICAgdXBkYXRlSW5ib3hTdG9yYWdlKGluYm94KTtcbiAgfSk7XG4gIHJldHVybiBjaGVja2JveDtcbn1cbiIsImltcG9ydCB7IGdlbmVyYXRlVG9kbywgZ2VuZXJhdGVUb2RvUHJvamVjdCB9IGZyb20gXCIuL2hlbHBlckZ1bmN0aW9uc1wiO1xuaW1wb3J0IHsgUHJvamVjdCB9IGZyb20gXCIuL3Byb2plY3RcIjtcbmltcG9ydCB7IHJlbW92ZUNoaWxkcmVuRnJvbU5hdiwgcG9wdWxhdGVQcm9qZWN0cyB9IGZyb20gXCIuL2hlbHBlckZ1bmN0aW9uc1wiO1xuaW1wb3J0IHsgdXBkYXRlUHJvamVjdHNTdG9yYWdlIH0gZnJvbSBcIi4vc3RvcmFnZVwiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQ3JlYXRlcyBpbmJveCBmb3JtXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSW5ib3hGb3JtKGluYm94LCBsaXN0KSB7XG4gIGxldCBmb3JtRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgZm9ybURpdi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImluYm94LWZvcm1cIik7XG5cbiAgbGV0IHRpdGxlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gIHRpdGxlSW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIik7XG4gIHRpdGxlSW5wdXQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJ0aXRsZVwiKTtcbiAgdGl0bGVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiLCBcIlRpdGxlXCIpO1xuXG4gIGxldCBkZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICBkZXNjcmlwdGlvbklucHV0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuICBkZXNjcmlwdGlvbklucHV0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwiZGVzY3JpcHRpb25cIik7XG4gIGRlc2NyaXB0aW9uSW5wdXQuc2V0QXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIiwgXCJEZXNjcmlwdGlvblwiKTtcblxuICBsZXQgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgYnV0dG9uLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XG4gIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImFkZC10b2RvLWJ1dHRvblwiKTtcbiAgYnV0dG9uLnRleHRDb250ZW50ID0gXCJBZGRcIjtcblxuICAvLyBBZGQgaXRlbSB3aGVuIGNsaWNraW5nIGFkZCBidXR0b24uXG4gIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGdlbmVyYXRlVG9kbyhpbmJveCwgbGlzdCk7XG5cbiAgICAvLyBDbGVhciBmb3JtIGlucHV0XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0aXRsZVwiKS52YWx1ZSA9IFwiXCI7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkZXNjcmlwdGlvblwiKS52YWx1ZSA9IFwiXCI7XG4gIH0pO1xuXG4gIGZvcm1EaXYuYXBwZW5kQ2hpbGQodGl0bGVJbnB1dCk7XG4gIGZvcm1EaXYuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb25JbnB1dCk7XG4gIGZvcm1EaXYuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcblxuICBsaXN0LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZm9ybURpdik7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBDcmVhdGVzIHByb2plY3QgdG9kbyBmb3JtXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvamVjdEZvcm0ocHJvamVjdCwgcHJvamVjdHMpIHtcbiAgbGV0IGxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xpc3RcIik7XG4gIGxldCBmb3JtRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgZm9ybURpdi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInByb2plY3QtZm9ybVwiKTtcblxuICBsZXQgdGl0bGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgdGl0bGVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dFwiKTtcbiAgdGl0bGVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInRpdGxlXCIpO1xuICB0aXRsZUlucHV0LnNldEF0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIsIFwiVGl0bGVcIik7XG5cbiAgbGV0IGRlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gIGRlc2NyaXB0aW9uSW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIik7XG4gIGRlc2NyaXB0aW9uSW5wdXQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJkZXNjcmlwdGlvblwiKTtcbiAgZGVzY3JpcHRpb25JbnB1dC5zZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiLCBcIkRlc2NyaXB0aW9uXCIpO1xuXG4gIGxldCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gIGxldCB5ZWFyID0gdG9kYXkuZ2V0RnVsbFllYXIoKTtcbiAgbGV0IG1vbnRoID0gKHRvZGF5LmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcbiAgbGV0IGRheSA9IHRvZGF5LmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblxuICBsZXQgZm9ybWF0dGVkRGF0ZSA9IGAke3llYXJ9LSR7bW9udGh9LSR7ZGF5fWA7XG5cbiAgbGV0IGR1ZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICBkdWVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImR1ZVwiKTtcbiAgZHVlSW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImRhdGVcIik7XG4gIGR1ZUlucHV0LnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIGZvcm1hdHRlZERhdGUpO1xuXG4gIGxldCBwcmlvcml0eVNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XG4gIHByaW9yaXR5U2VsZWN0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwicHJpb3JpdHlcIik7XG4gIGxldCB2YWx1ZXMgPSBbXCJsb3dcIiwgXCJtZWRpdW1cIiwgXCJoaWdoXCJdO1xuICBmb3IgKGxldCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICBsZXQgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgICBvcHRpb24uc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgdmFsdWUpO1xuICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IHZhbHVlO1xuICAgIHByaW9yaXR5U2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gIH1cblxuICBsZXQgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgYnV0dG9uLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XG4gIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImFkZC10b2RvLWJ1dHRvblwiKTtcbiAgYnV0dG9uLnRleHRDb250ZW50ID0gXCJBZGRcIjtcbiAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgZ2VuZXJhdGVUb2RvUHJvamVjdChwcm9qZWN0LCBwcm9qZWN0cywgbGlzdCk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0aXRsZVwiKS52YWx1ZSA9IFwiXCI7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkZXNjcmlwdGlvblwiKS52YWx1ZSA9IFwiXCI7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkdWVcIikudmFsdWUgPSBmb3JtYXR0ZWREYXRlO1xuICB9KTtcblxuICBmb3JtRGl2LmFwcGVuZENoaWxkKHRpdGxlSW5wdXQpO1xuICBmb3JtRGl2LmFwcGVuZENoaWxkKGRlc2NyaXB0aW9uSW5wdXQpO1xuICBmb3JtRGl2LmFwcGVuZENoaWxkKGR1ZUlucHV0KTtcbiAgZm9ybURpdi5hcHBlbmRDaGlsZChwcmlvcml0eVNlbGVjdCk7XG4gIGZvcm1EaXYuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcblxuICBsaXN0LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZm9ybURpdik7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBDcmVhdGVzIHByb2plY3QgbmFtZSBmb3JtXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvamVjdE5hbWVGb3JtKHByb2plY3RzLCBsaXN0KSB7XG4gIGxldCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBsZXQgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gIGxldCBhZGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInByb2plY3QtbmFtZS1jb250YWluZXJcIik7XG5cbiAgaW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIik7XG4gIGlucHV0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwicHJvamVjdC1uYW1lXCIpO1xuICBpbnB1dC5zZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiLCBcIlByb2plY3QgbmFtZVwiKTtcblxuICBhZGQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJhZGQtcHJvamVjdC1idXR0b25cIik7XG4gIGFkZC50ZXh0Q29udGVudCA9IFwiQWRkXCI7XG5cbiAgLy8gRXZlbnQgbGlzdGVuZXIgZm9yIGFkZGluZyBwcm9qZWN0IGFmdGVyIHR5cGluZyBuYW1lXG4gIGFkZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIHByb2plY3RzLmFkZFByb2plY3QobmV3IFByb2plY3QoaW5wdXQudmFsdWUpKTtcblxuICAgIC8vIFdlIHdhbnQgdG8gcmVmbGVjdCB0aGUgYWRkZWQgcHJvamVjdCBvbiB0aGUgbGlzdC5cbiAgICByZW1vdmVDaGlsZHJlbkZyb21OYXYobGlzdCk7XG4gICAgcG9wdWxhdGVQcm9qZWN0cyhwcm9qZWN0cywgbGlzdCk7XG5cbiAgICB1cGRhdGVQcm9qZWN0c1N0b3JhZ2UocHJvamVjdHMpO1xuICB9KTtcblxuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoYWRkKTtcbiAgbGlzdC5hcHBlbmRDaGlsZChjb250YWluZXIpO1xufVxuIiwiaW1wb3J0IHtcbiAgY2hlY2tTdG9yYWdlLFxuICBsb2FkSW5ib3hGcm9tU3RvcmFnZSxcbiAgbG9hZFByb2plY3RzRnJvbVN0b3JhZ2UsXG59IGZyb20gXCIuL3N0b3JhZ2VcIjtcbmltcG9ydCB7IGNyZWF0ZUluYm94Rm9ybSwgY3JlYXRlUHJvamVjdE5hbWVGb3JtIH0gZnJvbSBcIi4vZm9ybVwiO1xuaW1wb3J0IHtcbiAgcmVtb3ZlQ2hpbGRyZW4sXG4gIHJlbW92ZUNoaWxkcmVuRnJvbU5hdixcbiAgcG9wdWxhdGVJbmJveCxcbiAgcG9wdWxhdGVQcm9qZWN0cyxcbn0gZnJvbSBcIi4vaGVscGVyRnVuY3Rpb25zXCI7XG5pbXBvcnQgeyBjbGVhckxvY2FsU3RvcmFnZSB9IGZyb20gXCIuL3Rlc3RcIjtcblxubGV0IGluYm94O1xubGV0IHByb2plY3RzO1xuXG4vLyBJbmJveCBidXR0b24gZXZlbnQgbGlzdGVuZXIgc3R1ZmYuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2luYm94XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGxldCBsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsaXN0XCIpO1xuICByZW1vdmVDaGlsZHJlbigpOyAvLyBDbGVhciBjb250ZW50XG4gIHBvcHVsYXRlSW5ib3goaW5ib3gsIGxpc3QpOyAvLyBQb3B1bGF0ZVxuICBjcmVhdGVJbmJveEZvcm0oaW5ib3gsIGxpc3QpOyAvLyBDcmVhdGUgJiBhZGQgZm9ybVxufSk7XG5cbi8vIFByb2plY3RzIGJ1dHRvbiBldmVudCBsaXN0ZW5lciBzdHVmZi5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdHNcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgbGV0IGxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3RzLWxpc3RcIik7XG5cbiAgLy8gQWxsb3dzIGZvciB0b2dnbGluZyBmdW5jdGlvbmFsaXR5XG4gIGlmIChsaXN0LmNoaWxkTm9kZXMubGVuZ3RoID4gMCkge1xuICAgIHJlbW92ZUNoaWxkcmVuRnJvbU5hdihsaXN0KTtcbiAgfSBlbHNlIHtcbiAgICByZW1vdmVDaGlsZHJlbkZyb21OYXYobGlzdCk7XG4gICAgcG9wdWxhdGVQcm9qZWN0cyhwcm9qZWN0cywgbGlzdCk7XG4gIH1cblxuICBwcm9qZWN0cy5zaG93UHJvamVjdHMoKTtcbn0pO1xuXG4vLyBBZGQgcHJvamVjdCBidXR0b24gZXZlbnQgbGlzdGVuZXIgc3R1ZmYuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1wcm9qZWN0XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGxldCBsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9qZWN0cy1saXN0XCIpO1xuICByZW1vdmVDaGlsZHJlbkZyb21OYXYoKTtcbiAgcG9wdWxhdGVQcm9qZWN0cyhwcm9qZWN0cywgbGlzdCk7XG4gIGNyZWF0ZVByb2plY3ROYW1lRm9ybShwcm9qZWN0cywgbGlzdCk7XG59KTtcblxuLy8gbGV0IHNhbXBsZVByb2plY3RzID0gW1xuLy8gICB7XG4vLyAgICAgdGl0bGU6IFwidGl0bGUxXCIsXG4vLyAgICAgdG9kb3M6IFtcbi8vICAgICAgIHsgdGl0bGU6IFwidG9kbzFcIiwgZGVzY3JpcHRpb246IFwiZGVzYzFcIiwgZHVlOiBcInRvZGF5XCIsIHNldmVyaXR5OiBcImxvd1wiIH0sXG4vLyAgICAgICB7XG4vLyAgICAgICAgIHRpdGxlOiBcInRvZG8yXCIsXG4vLyAgICAgICAgIGRlc2NyaXB0aW9uOiBcImRlc2MyXCIsXG4vLyAgICAgICAgIGR1ZTogXCJ0b21vcnJvd1wiLFxuLy8gICAgICAgICBzZXZlcml0eTogXCJtZWRpdW1cIixcbi8vICAgICAgIH0sXG4vLyAgICAgXSxcbi8vICAgfSxcbi8vICAge1xuLy8gICAgIHRpdGxlOiBcInRpdGxlMlwiLFxuLy8gICAgIHRvZG9zOiBbXG4vLyAgICAgICB7XG4vLyAgICAgICAgIHRpdGxlOiBcInRvZG81XCIsXG4vLyAgICAgICAgIGRlc2NyaXB0aW9uOiBcImRlc2M1XCIsXG4vLyAgICAgICAgIGR1ZTogXCJ5ZXN0ZXJkYXlcIixcbi8vICAgICAgICAgc2V2ZXJpdHk6IFwiaGlnaFwiLFxuLy8gICAgICAgfSxcbi8vICAgICBdLFxuLy8gICB9LFxuLy8gICB7IHRpdGxlOiBcInRpdGxlM1wiLCB0b2RvczogW10gfSxcbi8vIF07XG4vLyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInByb2plY3RzXCIsIEpTT04uc3RyaW5naWZ5KHNhbXBsZVByb2plY3RzKSk7XG5cbi8vIGNsZWFyTG9jYWxTdG9yYWdlKCk7XG5jaGVja1N0b3JhZ2UoKTtcbmluYm94ID0gbG9hZEluYm94RnJvbVN0b3JhZ2UoKTtcbi8vIGluYm94LnNob3dJbmJveCgpO1xuXG5wcm9qZWN0cyA9IGxvYWRQcm9qZWN0c0Zyb21TdG9yYWdlKCk7XG4vLyBwcm9qZWN0cy5zaG93UHJvamVjdHMoKTtcbiJdLCJuYW1lcyI6WyJJbmJveCIsImFkZFRvZG8iLCJ0b2RvIiwidGhpcyIsInB1c2giLCJpbmJveCIsInJlbW92ZVRvZG8iLCJ0aXRsZSIsImluZGV4IiwiaSIsImxlbmd0aCIsInNwbGljZSIsInN0cmluZ2lmeSIsImdldFRvZG8iLCJKU09OIiwic2hvd0luYm94Iiwic2hvd1RvZG8iLCJUb2RvIiwiY29uc3RydWN0b3IiLCJkZXNjcmlwdGlvbiIsImR1ZSIsInByaW9yaXR5IiwiY29uc29sZSIsImxvZyIsIlNpbXBsZVRvZG8iLCJQcm9qZWN0cyIsInByb2plY3RzIiwiYWRkUHJvamVjdCIsInByb2plY3QiLCJyZW1vdmVQcm9qZWN0Iiwic2hvd1Byb2plY3RzIiwic2hvd1Byb2plY3QiLCJQcm9qZWN0IiwicHJvamVjdFRpdGxlIiwidXBkYXRlSW5ib3hTdG9yYWdlIiwibG9jYWxTdG9yYWdlIiwidXBkYXRlUHJvamVjdHNTdG9yYWdlIiwicmVtb3ZlQ2hpbGRyZW4iLCJsaXN0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiZmlyc3RDaGlsZCIsInJlbW92ZSIsInJlbW92ZUNoaWxkcmVuRnJvbU5hdiIsInBvcHVsYXRlTWFpbiIsInRvZG9zIiwibGkiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwidG9kb1RleHQiLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwicG9wdWxhdGVQcm9qZWN0cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJjcmVhdGVQcm9qZWN0Rm9ybSIsInByb2plY3RUZXh0IiwiY3JlYXRlQ2hlY2tib3giLCJjaGVja2JveCIsImUiLCJ0YXJnZXQiLCJwYXJlbnRFbGVtZW50IiwiZ2V0QXR0cmlidXRlIiwicmVtb3ZlUGFyZW50IiwiZm9ybURpdiIsInRpdGxlSW5wdXQiLCJkZXNjcmlwdGlvbklucHV0IiwidG9kYXkiLCJEYXRlIiwiZm9ybWF0dGVkRGF0ZSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJ0b1N0cmluZyIsInBhZFN0YXJ0IiwiZ2V0RGF0ZSIsImR1ZUlucHV0IiwicHJpb3JpdHlTZWxlY3QiLCJ2YWx1ZXMiLCJ2YWx1ZSIsIm9wdGlvbiIsImJ1dHRvbiIsImdlbmVyYXRlVG9kb1Byb2plY3QiLCJwYXJlbnROb2RlIiwicG9wdWxhdGVJbmJveCIsImdlbmVyYXRlVG9kbyIsImNyZWF0ZUluYm94Rm9ybSIsImNvbnRhaW5lciIsImlucHV0IiwiYWRkIiwiY3JlYXRlUHJvamVjdE5hbWVGb3JtIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJjaGVja1N0b3JhZ2UiLCJpbmJveEZyb21Mb2NhbCIsInBhcnNlIiwidG9kb0Zyb21Mb2NhbCIsImxvYWRJbmJveEZyb21TdG9yYWdlIiwicHJvamVjdHNGcm9tTG9jYWwiLCJwcm9qZWN0RnJvbUxvY2FsIiwidG9kb1RpdGxlIiwidG9kb0Rlc2NyaXB0aW9uIiwidG9kb0R1ZSIsInRvZG9Qcmlvcml0eSIsInByb2plY3RUb2RvIiwibG9hZFByb2plY3RzRnJvbVN0b3JhZ2UiXSwic291cmNlUm9vdCI6IiJ9