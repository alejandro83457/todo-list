(()=>{"use strict";class t{#t=[];addTodo(t){this.#t.push(t)}get inbox(){return this.#t}removeTodo(t){let e;for(let o=0;o<this.#t.length;o++)this.#t[o].title==t&&(e=o);this.#t.splice(e,1)}stringify(){let t=[];for(let e of this.#t)t.push(e.getTodo());return JSON.stringify(t)}showInbox(){for(let t of this.#t)t.showTodo()}}class e{#e;#o;#i;#r;constructor(t,e,o,i){this.#e=t,this.#o=e,this.#i=o,this.#r=i}get title(){return this.#e}get description(){return this.#o}get due(){return this.#i}get priority(){return this.#r}getTodo(){return{title:this.#e,description:this.#o,due:this.#i,priority:this.#r}}showTodo(){console.log(`\t${this.#e} ${this.#o} ${this.#i} ${this.#r}`)}}class o{#e;#o;constructor(t,e){this.#e=t,this.#o=e}get title(){return this.#e}get description(){return this.#o}getTodo(){return{title:this.#e,description:this.#o}}showTodo(){console.log(`${this.#e} ${this.#o}`)}}class i{#n=[];get projects(){return this.#n}addProject(t){this.#n.push(t)}removeProject(t){let e;for(let o=0;o<this.#n.length;o++)this.#n[o].title==t&&(e=o);this.#n.splice(e,1)}stringify(){let t=[];for(let e of this.#n)t.push(e.stringify());return JSON.stringify(t)}showProjects(){for(let t of this.#n)t.showProject()}}class r{#l={};constructor(t){this.#l.title=t,this.#l.todos=[]}get projectTitle(){return this.#l.title}get project(){return this.#l}stringify(){let t={};t.title=this.#l.title,t.todos=[];for(let e of this.#l.todos)t.todos.push(e.getTodo());return t}addTodo(t){this.#l.todos.push(t)}showProject(){console.log(this.#l.title);for(let t of this.#l.todos)t.showTodo()}}function n(t){localStorage.inbox=t.stringify()}function l(t){localStorage.projects=t.stringify()}function d(){let t=document.querySelector("#list");for(;t.childNodes.length>0;)t.removeChild(t.firstChild);document.querySelector("#inbox-form")?document.querySelector("#inbox-form").remove():document.querySelector("#project-form")&&document.querySelector("#project-form").remove()}function c(){let t=document.querySelector("#projects-list");for(;t.childNodes.length>0;)t.removeChild(t.firstChild)}function u(t){let e=document.querySelector("#list"),o=t.project.todos;for(let t of o){let o=document.createElement("li");o.setAttribute("data",t.title);let i=document.createElement("div");i.textContent=`${t.title} ${t.description} ${t.due} ${t.priority}`,o.appendChild(i),e.appendChild(o)}}function s(t,e){for(let o of t.projects){let i=document.createElement("li");i.addEventListener("click",(()=>{document.querySelector("#inbox-form")&&document.querySelector("#inbox-form").remove(),d(),u(o),a(o,t)}));let r=document.createElement("div");r.textContent=`${o.projectTitle}`,i.appendChild(r),e.appendChild(i)}}function p(t){let e=document.createElement("input");return e.setAttribute("type","checkbox"),e.addEventListener("change",(e=>{t.removeTodo(e.target.parentElement.getAttribute("data")),function(t){t.target.parentElement.remove()}(e),n(t)})),e}function a(t,o){let i=document.querySelector("#list"),r=document.createElement("div");r.setAttribute("id","project-form");let n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("id","title"),n.setAttribute("placeholder","Title");let d=document.createElement("input");d.setAttribute("type","text"),d.setAttribute("id","description"),d.setAttribute("placeholder","Description");let c=new Date,u=`${c.getFullYear()}-${(c.getMonth()+1).toString().padStart(2,"0")}-${c.getDate().toString().padStart(2,"0")}`,s=document.createElement("input");s.setAttribute("id","due"),s.setAttribute("type","date"),s.setAttribute("value",u);let p=document.createElement("select");p.setAttribute("id","priority");let a=["low","medium","high"];for(let t of a){let e=document.createElement("option");e.setAttribute("value",t),e.textContent=t,p.appendChild(e)}let h=document.createElement("button");h.setAttribute("type","button"),h.setAttribute("id","add-todo-button"),h.textContent="Add",h.addEventListener("click",(()=>{!function(t,o,i){let r=document.querySelector("#title"),n=document.querySelector("#description"),d=document.querySelector("#due"),c=document.querySelector("#priority"),u=document.createElement("li");u.setAttribute("data",r.value);let s=document.createElement("div");s.textContent=`${r.value} ${n.value} ${d.value} ${c.value}`,u.appendChild(s),i.appendChild(u);let p=new e(r.value,n.value,d.value,c.value);t.addTodo(p),l(o)}(t,o,i),document.querySelector("#title").value="",document.querySelector("#description").value="",document.querySelector("#due").value=u})),r.appendChild(n),r.appendChild(d),r.appendChild(s),r.appendChild(p),r.appendChild(h),i.parentNode.appendChild(r)}let h,m;document.querySelector("#inbox").addEventListener("click",(()=>{let t=document.querySelector("#list");d(),function(t,e){for(let o of t.inbox){let i=document.createElement("li");i.setAttribute("data",o.title);let r=document.createElement("div");r.textContent=`${o.title} ${o.description}`;let n=p(t);i.appendChild(n),i.appendChild(r),e.appendChild(i)}}(h,t),function(t,e){let i=document.createElement("div");i.setAttribute("id","inbox-form");let r=document.createElement("input");r.setAttribute("type","text"),r.setAttribute("id","title"),r.setAttribute("placeholder","Title");let l=document.createElement("input");l.setAttribute("type","text"),l.setAttribute("id","description"),l.setAttribute("placeholder","Description");let d=document.createElement("button");d.setAttribute("type","button"),d.setAttribute("id","add-todo-button"),d.textContent="Add",d.addEventListener("click",(()=>{!function(t,e){let i=document.querySelector("#title"),r=document.querySelector("#description"),l=document.createElement("li");l.setAttribute("data",i.value);let d=document.createElement("div");d.textContent=`${i.value} ${r.value}`;let c=p(t);l.appendChild(c),l.appendChild(d),e.appendChild(l);let u=new o(i.value,r.value);t.addTodo(u),n(t)}(t,e),document.querySelector("#title").value="",document.querySelector("#description").value=""})),i.appendChild(r),i.appendChild(l),i.appendChild(d),e.parentNode.appendChild(i)}(h,t)})),document.querySelector("#projects").addEventListener("click",(()=>{let t=document.querySelector("#projects-list");t.childNodes.length>0?c():(c(),s(m,t)),m.showProjects()})),document.querySelector("#add-project").addEventListener("click",(()=>{let t=document.querySelector("#projects-list");c(),s(m,t),function(t,e){let o=document.createElement("div"),i=document.createElement("input"),n=document.createElement("div");o.setAttribute("id","project-name-container"),i.setAttribute("type","text"),i.setAttribute("id","project-name"),i.setAttribute("placeholder","Project name"),n.setAttribute("id","add-project-button"),n.textContent="Add",n.addEventListener("click",(()=>{t.addProject(new r(i.value)),c(),s(t,e),l(t)})),o.appendChild(i),o.appendChild(n),e.appendChild(o)}(m,t)})),localStorage.removeItem("inbox"),localStorage.removeItem("projects"),function(){if(0==localStorage.length){console.log("Empty. Loading content...");let t=[],e=[];localStorage.setItem("inbox",JSON.stringify(t)),localStorage.setItem("projects",JSON.stringify(e))}else console.log("Content found.")}(),h=function(){let e=localStorage.getItem("inbox");e=JSON.parse(e);let i=new t;for(let t of e){let e=t.title,r=t.description,n=new o(e,r);i.addTodo(n)}return i}(),m=function(){let t=localStorage.getItem("projects");t=JSON.parse(t);let o=new i;if(0==t.length)return o;for(let i of t){let t=i.title,n=i.todos,l=new r(t);for(let t of n){let o=t.title,i=t.description,r=t.due,n=t.priority,d=new e(o,i,r,n);l.addTodo(d)}o.addProject(l)}return o}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LWxpc3QvLi9zcmMvaW5ib3guanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3RvZG8uanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3Byb2plY3QuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3N0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2hlbHBlckZ1bmN0aW9ucy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvZm9ybS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3Rlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgSW5ib3gge1xuICAjaW5ib3ggPSBbXTtcblxuICBhZGRUb2RvKHRvZG8pIHtcbiAgICB0aGlzLiNpbmJveC5wdXNoKHRvZG8pO1xuICB9XG5cbiAgZ2V0IGluYm94KCkge1xuICAgIHJldHVybiB0aGlzLiNpbmJveDtcbiAgfVxuXG4gIHJlbW92ZVRvZG8odGl0bGUpIHtcbiAgICBsZXQgaW5kZXg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLiNpbmJveC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMuI2luYm94W2ldLnRpdGxlID09IHRpdGxlKSBpbmRleCA9IGk7XG4gICAgfVxuICAgIHRoaXMuI2luYm94LnNwbGljZShpbmRleCwgMSk7XG4gIH1cblxuICBzdHJpbmdpZnkoKSB7XG4gICAgbGV0IGluYm94ID0gW107XG4gICAgZm9yIChsZXQgdG9kbyBvZiB0aGlzLiNpbmJveCkge1xuICAgICAgaW5ib3gucHVzaCh0b2RvLmdldFRvZG8oKSk7XG4gICAgfVxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShpbmJveCk7XG4gIH1cblxuICBzaG93SW5ib3goKSB7XG4gICAgZm9yIChsZXQgdG9kbyBvZiB0aGlzLiNpbmJveCkge1xuICAgICAgdG9kby5zaG93VG9kbygpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBJbmJveCB9O1xuIiwiLy8gVXNlZCBmb3IgcHJvamVjdHNcbmNsYXNzIFRvZG8ge1xuICAjdGl0bGU7XG4gICNkZXNjcmlwdGlvbjtcbiAgI2R1ZTtcbiAgI3ByaW9yaXR5O1xuICBjb25zdHJ1Y3Rvcih0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZSwgcHJpb3JpdHkpIHtcbiAgICB0aGlzLiN0aXRsZSA9IHRpdGxlO1xuICAgIHRoaXMuI2Rlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgdGhpcy4jZHVlID0gZHVlO1xuICAgIHRoaXMuI3ByaW9yaXR5ID0gcHJpb3JpdHk7XG4gIH1cbiAgZ2V0IHRpdGxlKCkge1xuICAgIHJldHVybiB0aGlzLiN0aXRsZTtcbiAgfVxuICBnZXQgZGVzY3JpcHRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuI2Rlc2NyaXB0aW9uO1xuICB9XG4gIGdldCBkdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuI2R1ZTtcbiAgfVxuICBnZXQgcHJpb3JpdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuI3ByaW9yaXR5O1xuICB9XG4gIGdldFRvZG8oKSB7XG4gICAgbGV0IHRpdGxlID0gdGhpcy4jdGl0bGU7XG4gICAgbGV0IGRlc2NyaXB0aW9uID0gdGhpcy4jZGVzY3JpcHRpb247XG4gICAgbGV0IGR1ZSA9IHRoaXMuI2R1ZTtcbiAgICBsZXQgcHJpb3JpdHkgPSB0aGlzLiNwcmlvcml0eTtcbiAgICByZXR1cm4geyB0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZSwgcHJpb3JpdHkgfTtcbiAgfVxuICBzaG93VG9kbygpIHtcbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIGBcXHQke3RoaXMuI3RpdGxlfSAke3RoaXMuI2Rlc2NyaXB0aW9ufSAke3RoaXMuI2R1ZX0gJHt0aGlzLiNwcmlvcml0eX1gXG4gICAgKTtcbiAgfVxufVxuXG4vLyBVc2VkIGZvciBpbmJveCBvbmx5XG5jbGFzcyBTaW1wbGVUb2RvIHtcbiAgI3RpdGxlO1xuICAjZGVzY3JpcHRpb247XG4gIGNvbnN0cnVjdG9yKHRpdGxlLCBkZXNjcmlwdGlvbikge1xuICAgIHRoaXMuI3RpdGxlID0gdGl0bGU7XG4gICAgdGhpcy4jZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgfVxuICBnZXQgdGl0bGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuI3RpdGxlO1xuICB9XG4gIGdldCBkZXNjcmlwdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy4jZGVzY3JpcHRpb247XG4gIH1cbiAgZ2V0VG9kbygpIHtcbiAgICBsZXQgdGl0bGUgPSB0aGlzLiN0aXRsZTtcbiAgICBsZXQgZGVzY3JpcHRpb24gPSB0aGlzLiNkZXNjcmlwdGlvbjtcbiAgICByZXR1cm4geyB0aXRsZSwgZGVzY3JpcHRpb24gfTtcbiAgfVxuICBzaG93VG9kbygpIHtcbiAgICBjb25zb2xlLmxvZyhgJHt0aGlzLiN0aXRsZX0gJHt0aGlzLiNkZXNjcmlwdGlvbn1gKTtcbiAgfVxufVxuXG5leHBvcnQgeyBUb2RvLCBTaW1wbGVUb2RvIH07XG4iLCJleHBvcnQgY2xhc3MgUHJvamVjdHMge1xuICAjcHJvamVjdHMgPSBbXTtcblxuICBnZXQgcHJvamVjdHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuI3Byb2plY3RzO1xuICB9XG5cbiAgYWRkUHJvamVjdChwcm9qZWN0KSB7XG4gICAgdGhpcy4jcHJvamVjdHMucHVzaChwcm9qZWN0KTtcbiAgfVxuXG4gIHJlbW92ZVByb2plY3QodGl0bGUpIHtcbiAgICBsZXQgaW5kZXg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLiNwcm9qZWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMuI3Byb2plY3RzW2ldLnRpdGxlID09IHRpdGxlKSBpbmRleCA9IGk7XG4gICAgfVxuICAgIHRoaXMuI3Byb2plY3RzLnNwbGljZShpbmRleCwgMSk7XG4gIH1cblxuICBzdHJpbmdpZnkoKSB7XG4gICAgbGV0IHByb2plY3RzID0gW107XG4gICAgZm9yIChsZXQgcHJvamVjdCBvZiB0aGlzLiNwcm9qZWN0cykge1xuICAgICAgcHJvamVjdHMucHVzaChwcm9qZWN0LnN0cmluZ2lmeSgpKTtcbiAgICB9XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHByb2plY3RzKTtcbiAgfVxuXG4gIHNob3dQcm9qZWN0cygpIHtcbiAgICBmb3IgKGxldCBwcm9qZWN0IG9mIHRoaXMuI3Byb2plY3RzKSB7XG4gICAgICBwcm9qZWN0LnNob3dQcm9qZWN0KCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcm9qZWN0IHtcbiAgI3Byb2plY3QgPSB7fTtcbiAgY29uc3RydWN0b3IodGl0bGUpIHtcbiAgICB0aGlzLiNwcm9qZWN0W1widGl0bGVcIl0gPSB0aXRsZTtcbiAgICB0aGlzLiNwcm9qZWN0W1widG9kb3NcIl0gPSBbXTtcbiAgfVxuICBnZXQgcHJvamVjdFRpdGxlKCkge1xuICAgIHJldHVybiB0aGlzLiNwcm9qZWN0W1widGl0bGVcIl07XG4gIH1cbiAgZ2V0IHByb2plY3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuI3Byb2plY3Q7XG4gIH1cbiAgc3RyaW5naWZ5KCkge1xuICAgIGxldCBwcm9qZWN0ID0ge307XG4gICAgcHJvamVjdFtcInRpdGxlXCJdID0gdGhpcy4jcHJvamVjdFtcInRpdGxlXCJdO1xuICAgIHByb2plY3RbXCJ0b2Rvc1wiXSA9IFtdO1xuICAgIGZvciAobGV0IHRvZG8gb2YgdGhpcy4jcHJvamVjdFtcInRvZG9zXCJdKSB7XG4gICAgICBwcm9qZWN0W1widG9kb3NcIl0ucHVzaCh0b2RvLmdldFRvZG8oKSk7XG4gICAgfVxuICAgIHJldHVybiBwcm9qZWN0O1xuICB9XG4gIGFkZFRvZG8odG9kbykge1xuICAgIHRoaXMuI3Byb2plY3RbXCJ0b2Rvc1wiXS5wdXNoKHRvZG8pO1xuICB9XG4gIHNob3dQcm9qZWN0KCkge1xuICAgIGNvbnNvbGUubG9nKHRoaXMuI3Byb2plY3RbXCJ0aXRsZVwiXSk7XG4gICAgZm9yIChsZXQgdG9kbyBvZiB0aGlzLiNwcm9qZWN0W1widG9kb3NcIl0pIHtcbiAgICAgIHRvZG8uc2hvd1RvZG8oKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IEluYm94IH0gZnJvbSBcIi4vaW5ib3hcIjtcbmltcG9ydCB7IFNpbXBsZVRvZG8sIFRvZG8gfSBmcm9tIFwiLi90b2RvXCI7XG5pbXBvcnQgeyBQcm9qZWN0cywgUHJvamVjdCB9IGZyb20gXCIuL3Byb2plY3RcIjtcblxuLy8gQ2hlY2sgaWYgbG9jYWxTdG9yYWdlIGlzIHNldCB1cCBwcm9wZXJseS5cbi8vIElmIHdpbGwgb25seSBydW4gb25jZSBwZXIgZGV2aWNlLlxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrU3RvcmFnZSgpIHtcbiAgaWYgKGxvY2FsU3RvcmFnZS5sZW5ndGggPT0gMCkge1xuICAgIGNvbnNvbGUubG9nKFwiRW1wdHkuIExvYWRpbmcgY29udGVudC4uLlwiKTtcbiAgICBsZXQgaW5ib3ggPSBbXTtcbiAgICBsZXQgcHJvamVjdHMgPSBbXTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImluYm94XCIsIEpTT04uc3RyaW5naWZ5KGluYm94KSk7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwcm9qZWN0c1wiLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0cykpO1xuICB9IGVsc2UgY29uc29sZS5sb2coXCJDb250ZW50IGZvdW5kLlwiKTtcbn1cblxuLy8gTG9hZHMgaW5ib3ggZGF0YSBmcm9tIGxvY2FsIHN0b3JhZ2UuXG5leHBvcnQgZnVuY3Rpb24gbG9hZEluYm94RnJvbVN0b3JhZ2UoKSB7XG4gIGxldCBpbmJveEZyb21Mb2NhbCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiaW5ib3hcIik7XG4gIGluYm94RnJvbUxvY2FsID0gSlNPTi5wYXJzZShpbmJveEZyb21Mb2NhbCk7XG4gIGxldCBpbmJveCA9IG5ldyBJbmJveCgpO1xuICBmb3IgKGxldCB0b2RvRnJvbUxvY2FsIG9mIGluYm94RnJvbUxvY2FsKSB7XG4gICAgbGV0IHRpdGxlID0gdG9kb0Zyb21Mb2NhbC50aXRsZTtcbiAgICBsZXQgZGVzY3JpcHRpb24gPSB0b2RvRnJvbUxvY2FsLmRlc2NyaXB0aW9uO1xuICAgIGxldCB0b2RvID0gbmV3IFNpbXBsZVRvZG8odGl0bGUsIGRlc2NyaXB0aW9uKTtcbiAgICBpbmJveC5hZGRUb2RvKHRvZG8pO1xuICB9XG4gIHJldHVybiBpbmJveDtcbn1cblxuLy8gTG9hZHMgcHJvamVjdHMgZnJvbSBsb2NhbCBzdG9yYWdlXG5leHBvcnQgZnVuY3Rpb24gbG9hZFByb2plY3RzRnJvbVN0b3JhZ2UoKSB7XG4gIGxldCBwcm9qZWN0c0Zyb21Mb2NhbCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicHJvamVjdHNcIik7XG4gIHByb2plY3RzRnJvbUxvY2FsID0gSlNPTi5wYXJzZShwcm9qZWN0c0Zyb21Mb2NhbCk7XG4gIGxldCBwcm9qZWN0cyA9IG5ldyBQcm9qZWN0cygpO1xuICBpZiAocHJvamVjdHNGcm9tTG9jYWwubGVuZ3RoID09IDApIHJldHVybiBwcm9qZWN0cztcbiAgZm9yIChsZXQgcHJvamVjdEZyb21Mb2NhbCBvZiBwcm9qZWN0c0Zyb21Mb2NhbCkge1xuICAgIGxldCB0aXRsZSA9IHByb2plY3RGcm9tTG9jYWxbXCJ0aXRsZVwiXTtcbiAgICBsZXQgdG9kb3MgPSBwcm9qZWN0RnJvbUxvY2FsW1widG9kb3NcIl07XG4gICAgbGV0IHByb2plY3QgPSBuZXcgUHJvamVjdCh0aXRsZSk7XG4gICAgZm9yIChsZXQgdG9kbyBvZiB0b2Rvcykge1xuICAgICAgbGV0IHRvZG9UaXRsZSA9IHRvZG9bXCJ0aXRsZVwiXTtcbiAgICAgIGxldCB0b2RvRGVzY3JpcHRpb24gPSB0b2RvW1wiZGVzY3JpcHRpb25cIl07XG4gICAgICBsZXQgdG9kb0R1ZSA9IHRvZG9bXCJkdWVcIl07XG4gICAgICBsZXQgdG9kb1ByaW9yaXR5ID0gdG9kb1tcInByaW9yaXR5XCJdO1xuICAgICAgbGV0IHByb2plY3RUb2RvID0gbmV3IFRvZG8oXG4gICAgICAgIHRvZG9UaXRsZSxcbiAgICAgICAgdG9kb0Rlc2NyaXB0aW9uLFxuICAgICAgICB0b2RvRHVlLFxuICAgICAgICB0b2RvUHJpb3JpdHlcbiAgICAgICk7XG4gICAgICBwcm9qZWN0LmFkZFRvZG8ocHJvamVjdFRvZG8pO1xuICAgIH1cbiAgICBwcm9qZWN0cy5hZGRQcm9qZWN0KHByb2plY3QpO1xuICB9XG4gIHJldHVybiBwcm9qZWN0cztcbn1cblxuLy8gVXBkYXRlcyBzdG9yYWdlIGluIGJyb3dzZXIgdG8gcmVmbGVjdCBhZGRlZCBpdGVtLlxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUluYm94U3RvcmFnZShpbmJveCkge1xuICBsb2NhbFN0b3JhZ2VbXCJpbmJveFwiXSA9IGluYm94LnN0cmluZ2lmeSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlUHJvamVjdHNTdG9yYWdlKHByb2plY3RzKSB7XG4gIGxvY2FsU3RvcmFnZVtcInByb2plY3RzXCJdID0gcHJvamVjdHMuc3RyaW5naWZ5KCk7XG59XG4iLCJpbXBvcnQgeyB1cGRhdGVJbmJveFN0b3JhZ2UsIHVwZGF0ZVByb2plY3RzU3RvcmFnZSB9IGZyb20gXCIuL3N0b3JhZ2VcIjtcbmltcG9ydCB7IFNpbXBsZVRvZG8sIFRvZG8gfSBmcm9tIFwiLi90b2RvXCI7XG5pbXBvcnQgeyBjcmVhdGVQcm9qZWN0Rm9ybSB9IGZyb20gXCIuL2Zvcm1cIjtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUmVtb3ZlIGxpc3QgYnV0dG9uIGV2ZW50IGxpc3RlbmVyXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlUGFyZW50KGUpIHtcbiAgbGV0IHBhcmVudCA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQ7XG4gIHBhcmVudC5yZW1vdmUoKTtcbn1cblxuLy8gUmVtdm9lcyBjaGlsZHJlbiBmcm9tIG1haW5cbi8vIFJlbW92ZXMgZm9ybSBJRiBwcmVzZW50XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW4oKSB7XG4gIGxldCBsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsaXN0XCIpO1xuICB3aGlsZSAobGlzdC5jaGlsZE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICBsaXN0LnJlbW92ZUNoaWxkKGxpc3QuZmlyc3RDaGlsZCk7XG4gIH1cbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5ib3gtZm9ybVwiKSkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5ib3gtZm9ybVwiKS5yZW1vdmUoKTtcbiAgfSBlbHNlIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3QtZm9ybVwiKSkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdC1mb3JtXCIpLnJlbW92ZSgpO1xuICB9XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBDbGVhcnMgbGlzdCBpbiBuYXYuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW5Gcm9tTmF2KCkge1xuICBsZXQgbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdHMtbGlzdFwiKTtcbiAgd2hpbGUgKGxpc3QuY2hpbGROb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgbGlzdC5yZW1vdmVDaGlsZChsaXN0LmZpcnN0Q2hpbGQpO1xuICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFBvcHVsYXRlcyBpbmJveFxuZXhwb3J0IGZ1bmN0aW9uIHBvcHVsYXRlSW5ib3goaW5ib3gsIGxpc3QpIHtcbiAgZm9yIChsZXQgdG9kbyBvZiBpbmJveC5pbmJveCkge1xuICAgIGxldCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgICBsaS5zZXRBdHRyaWJ1dGUoXCJkYXRhXCIsIHRvZG8udGl0bGUpO1xuXG4gICAgbGV0IHRvZG9UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0b2RvVGV4dC50ZXh0Q29udGVudCA9IGAke3RvZG8udGl0bGV9ICR7dG9kby5kZXNjcmlwdGlvbn1gO1xuXG4gICAgbGV0IGNoZWNrYm94ID0gY3JlYXRlQ2hlY2tib3goaW5ib3gpO1xuXG4gICAgLy8gQWRkIGVsZW1lbnRzIHRvIGxpLlxuICAgIGxpLmFwcGVuZENoaWxkKGNoZWNrYm94KTtcbiAgICBsaS5hcHBlbmRDaGlsZCh0b2RvVGV4dCk7XG4gICAgbGlzdC5hcHBlbmRDaGlsZChsaSk7XG4gIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUG9wdWxhdGVzIHByb2plY3RzXG5leHBvcnQgZnVuY3Rpb24gcG9wdWxhdGVNYWluKHByb2plY3QpIHtcbiAgbGV0IGxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xpc3RcIik7XG4gIGxldCB0b2RvcyA9IHByb2plY3QucHJvamVjdFtcInRvZG9zXCJdO1xuICBmb3IgKGxldCB0b2RvIG9mIHRvZG9zKSB7XG4gICAgbGV0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICAgIGxpLnNldEF0dHJpYnV0ZShcImRhdGFcIiwgdG9kby50aXRsZSk7XG5cbiAgICBsZXQgdG9kb1RleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRvZG9UZXh0LnRleHRDb250ZW50ID0gYCR7dG9kby50aXRsZX0gJHt0b2RvLmRlc2NyaXB0aW9ufSAke3RvZG8uZHVlfSAke3RvZG8ucHJpb3JpdHl9YDtcblxuICAgIC8vIFRPRE86IENyZWF0ZSBjaGVja2JveFxuXG4gICAgLy8gQWRkIGVsZW1kZW50cyB0byBsaS5cbiAgICBsaS5hcHBlbmRDaGlsZCh0b2RvVGV4dCk7XG4gICAgbGlzdC5hcHBlbmRDaGlsZChsaSk7XG4gIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUG9wdWxhdGVzIHByb2plY3RzIHRpdGxlIG9uIG5hdlxuZXhwb3J0IGZ1bmN0aW9uIHBvcHVsYXRlUHJvamVjdHMocHJvamVjdHMsIGxpc3QpIHtcbiAgZm9yIChsZXQgcHJvamVjdCBvZiBwcm9qZWN0cy5wcm9qZWN0cykge1xuICAgIGxldCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgICBsaS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5ib3gtZm9ybVwiKSkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2luYm94LWZvcm1cIikucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgICByZW1vdmVDaGlsZHJlbigpO1xuICAgICAgcG9wdWxhdGVNYWluKHByb2plY3QpO1xuICAgICAgY3JlYXRlUHJvamVjdEZvcm0ocHJvamVjdCwgcHJvamVjdHMpO1xuICAgIH0pO1xuXG4gICAgbGV0IHByb2plY3RUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBwcm9qZWN0VGV4dC50ZXh0Q29udGVudCA9IGAke3Byb2plY3QucHJvamVjdFRpdGxlfWA7XG5cbiAgICBsaS5hcHBlbmRDaGlsZChwcm9qZWN0VGV4dCk7XG4gICAgbGlzdC5hcHBlbmRDaGlsZChsaSk7XG4gIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQ3JlYXRlIGFuZCBhZGQgYSB0b2RvIGZvciBpbmJveC5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVRvZG8oaW5ib3gsIGxpc3QpIHtcbiAgbGV0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0aXRsZVwiKTtcbiAgbGV0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkZXNjcmlwdGlvblwiKTtcbiAgbGV0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICBsaS5zZXRBdHRyaWJ1dGUoXCJkYXRhXCIsIHRpdGxlLnZhbHVlKTtcblxuICBsZXQgdG9kb1RleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICB0b2RvVGV4dC50ZXh0Q29udGVudCA9IGAke3RpdGxlLnZhbHVlfSAke2Rlc2NyaXB0aW9uLnZhbHVlfWA7XG5cbiAgLy8gQ2hlY2tib3ggZm9yIHJlbW92aW5nIGxpc3QgaXRlbS5cbiAgbGV0IGNoZWNrYm94ID0gY3JlYXRlQ2hlY2tib3goaW5ib3gpO1xuXG4gIGxpLmFwcGVuZENoaWxkKGNoZWNrYm94KTtcbiAgbGkuYXBwZW5kQ2hpbGQodG9kb1RleHQpO1xuICBsaXN0LmFwcGVuZENoaWxkKGxpKTtcblxuICBsZXQgdG9kbyA9IG5ldyBTaW1wbGVUb2RvKHRpdGxlLnZhbHVlLCBkZXNjcmlwdGlvbi52YWx1ZSk7XG4gIGluYm94LmFkZFRvZG8odG9kbyk7XG5cbiAgdXBkYXRlSW5ib3hTdG9yYWdlKGluYm94KTsgLy8gVXBkYXRlcyBsb2NhbCBzdG9yYWdlXG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIENyZWF0ZSBhbmQgYWRkIGEgdG9kbyBmb3IgcHJvamVjdC5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVRvZG9Qcm9qZWN0KHByb2plY3QsIHByb2plY3RzLCBsaXN0KSB7XG4gIGxldCB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGl0bGVcIik7XG4gIGxldCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVzY3JpcHRpb25cIik7XG4gIGxldCBkdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2R1ZVwiKTtcbiAgbGV0IHByaW9yaXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcmlvcml0eVwiKTtcblxuICBsZXQgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gIGxpLnNldEF0dHJpYnV0ZShcImRhdGFcIiwgdGl0bGUudmFsdWUpO1xuXG4gIC8vIFRPRE86IEFkZCBjaGVja2JveCBmb3IgcmVtb3ZhbFxuXG4gIGxldCB0b2RvVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHRvZG9UZXh0LnRleHRDb250ZW50ID0gYCR7dGl0bGUudmFsdWV9ICR7ZGVzY3JpcHRpb24udmFsdWV9ICR7ZHVlLnZhbHVlfSAke3ByaW9yaXR5LnZhbHVlfWA7XG5cbiAgbGkuYXBwZW5kQ2hpbGQodG9kb1RleHQpO1xuICBsaXN0LmFwcGVuZENoaWxkKGxpKTtcblxuICBsZXQgdG9kbyA9IG5ldyBUb2RvKFxuICAgIHRpdGxlLnZhbHVlLFxuICAgIGRlc2NyaXB0aW9uLnZhbHVlLFxuICAgIGR1ZS52YWx1ZSxcbiAgICBwcmlvcml0eS52YWx1ZVxuICApO1xuXG4gIHByb2plY3QuYWRkVG9kbyh0b2RvKTtcbiAgdXBkYXRlUHJvamVjdHNTdG9yYWdlKHByb2plY3RzKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQ3JlYXRlcyBjaGVja2JveC5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDaGVja2JveChpbmJveCkge1xuICBsZXQgY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gIGNoZWNrYm94LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJjaGVja2JveFwiKTtcbiAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoZSkgPT4ge1xuICAgIGluYm94LnJlbW92ZVRvZG8oZS50YXJnZXQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhXCIpKTtcbiAgICByZW1vdmVQYXJlbnQoZSk7XG4gICAgdXBkYXRlSW5ib3hTdG9yYWdlKGluYm94KTtcbiAgfSk7XG4gIHJldHVybiBjaGVja2JveDtcbn1cbiIsImltcG9ydCB7IGdlbmVyYXRlVG9kbywgZ2VuZXJhdGVUb2RvUHJvamVjdCB9IGZyb20gXCIuL2hlbHBlckZ1bmN0aW9uc1wiO1xuaW1wb3J0IHsgUHJvamVjdCB9IGZyb20gXCIuL3Byb2plY3RcIjtcbmltcG9ydCB7IHJlbW92ZUNoaWxkcmVuRnJvbU5hdiwgcG9wdWxhdGVQcm9qZWN0cyB9IGZyb20gXCIuL2hlbHBlckZ1bmN0aW9uc1wiO1xuaW1wb3J0IHsgdXBkYXRlUHJvamVjdHNTdG9yYWdlIH0gZnJvbSBcIi4vc3RvcmFnZVwiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQ3JlYXRlcyBpbmJveCBmb3JtXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSW5ib3hGb3JtKGluYm94LCBsaXN0KSB7XG4gIGxldCBmb3JtRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgZm9ybURpdi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImluYm94LWZvcm1cIik7XG5cbiAgbGV0IHRpdGxlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gIHRpdGxlSW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIik7XG4gIHRpdGxlSW5wdXQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJ0aXRsZVwiKTtcbiAgdGl0bGVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiLCBcIlRpdGxlXCIpO1xuXG4gIGxldCBkZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICBkZXNjcmlwdGlvbklucHV0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuICBkZXNjcmlwdGlvbklucHV0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwiZGVzY3JpcHRpb25cIik7XG4gIGRlc2NyaXB0aW9uSW5wdXQuc2V0QXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIiwgXCJEZXNjcmlwdGlvblwiKTtcblxuICBsZXQgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgYnV0dG9uLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XG4gIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImFkZC10b2RvLWJ1dHRvblwiKTtcbiAgYnV0dG9uLnRleHRDb250ZW50ID0gXCJBZGRcIjtcblxuICAvLyBBZGQgaXRlbSB3aGVuIGNsaWNraW5nIGFkZCBidXR0b24uXG4gIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGdlbmVyYXRlVG9kbyhpbmJveCwgbGlzdCk7XG5cbiAgICAvLyBDbGVhciBmb3JtIGlucHV0XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0aXRsZVwiKS52YWx1ZSA9IFwiXCI7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkZXNjcmlwdGlvblwiKS52YWx1ZSA9IFwiXCI7XG4gIH0pO1xuXG4gIGZvcm1EaXYuYXBwZW5kQ2hpbGQodGl0bGVJbnB1dCk7XG4gIGZvcm1EaXYuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb25JbnB1dCk7XG4gIGZvcm1EaXYuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcblxuICBsaXN0LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZm9ybURpdik7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBDcmVhdGVzIHByb2plY3QgdG9kbyBmb3JtXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvamVjdEZvcm0ocHJvamVjdCwgcHJvamVjdHMpIHtcbiAgbGV0IGxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xpc3RcIik7XG4gIGxldCBmb3JtRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgZm9ybURpdi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInByb2plY3QtZm9ybVwiKTtcblxuICBsZXQgdGl0bGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgdGl0bGVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dFwiKTtcbiAgdGl0bGVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInRpdGxlXCIpO1xuICB0aXRsZUlucHV0LnNldEF0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIsIFwiVGl0bGVcIik7XG5cbiAgbGV0IGRlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gIGRlc2NyaXB0aW9uSW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIik7XG4gIGRlc2NyaXB0aW9uSW5wdXQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJkZXNjcmlwdGlvblwiKTtcbiAgZGVzY3JpcHRpb25JbnB1dC5zZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiLCBcIkRlc2NyaXB0aW9uXCIpO1xuXG4gIGxldCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gIGxldCB5ZWFyID0gdG9kYXkuZ2V0RnVsbFllYXIoKTtcbiAgbGV0IG1vbnRoID0gKHRvZGF5LmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcbiAgbGV0IGRheSA9IHRvZGF5LmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblxuICBsZXQgZm9ybWF0dGVkRGF0ZSA9IGAke3llYXJ9LSR7bW9udGh9LSR7ZGF5fWA7XG5cbiAgbGV0IGR1ZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICBkdWVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImR1ZVwiKTtcbiAgZHVlSW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImRhdGVcIik7XG4gIGR1ZUlucHV0LnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIGZvcm1hdHRlZERhdGUpO1xuXG4gIGxldCBwcmlvcml0eVNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XG4gIHByaW9yaXR5U2VsZWN0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwicHJpb3JpdHlcIik7XG4gIGxldCB2YWx1ZXMgPSBbXCJsb3dcIiwgXCJtZWRpdW1cIiwgXCJoaWdoXCJdO1xuICBmb3IgKGxldCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICBsZXQgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgICBvcHRpb24uc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgdmFsdWUpO1xuICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IHZhbHVlO1xuICAgIHByaW9yaXR5U2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gIH1cblxuICBsZXQgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgYnV0dG9uLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XG4gIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImFkZC10b2RvLWJ1dHRvblwiKTtcbiAgYnV0dG9uLnRleHRDb250ZW50ID0gXCJBZGRcIjtcbiAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgZ2VuZXJhdGVUb2RvUHJvamVjdChwcm9qZWN0LCBwcm9qZWN0cywgbGlzdCk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0aXRsZVwiKS52YWx1ZSA9IFwiXCI7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkZXNjcmlwdGlvblwiKS52YWx1ZSA9IFwiXCI7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkdWVcIikudmFsdWUgPSBmb3JtYXR0ZWREYXRlO1xuICB9KTtcblxuICBmb3JtRGl2LmFwcGVuZENoaWxkKHRpdGxlSW5wdXQpO1xuICBmb3JtRGl2LmFwcGVuZENoaWxkKGRlc2NyaXB0aW9uSW5wdXQpO1xuICBmb3JtRGl2LmFwcGVuZENoaWxkKGR1ZUlucHV0KTtcbiAgZm9ybURpdi5hcHBlbmRDaGlsZChwcmlvcml0eVNlbGVjdCk7XG4gIGZvcm1EaXYuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcblxuICBsaXN0LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZm9ybURpdik7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBDcmVhdGVzIHByb2plY3QgbmFtZSBmb3JtXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvamVjdE5hbWVGb3JtKHByb2plY3RzLCBsaXN0KSB7XG4gIGxldCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBsZXQgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gIGxldCBhZGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInByb2plY3QtbmFtZS1jb250YWluZXJcIik7XG5cbiAgaW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIik7XG4gIGlucHV0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwicHJvamVjdC1uYW1lXCIpO1xuICBpbnB1dC5zZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiLCBcIlByb2plY3QgbmFtZVwiKTtcblxuICBhZGQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJhZGQtcHJvamVjdC1idXR0b25cIik7XG4gIGFkZC50ZXh0Q29udGVudCA9IFwiQWRkXCI7XG5cbiAgLy8gRXZlbnQgbGlzdGVuZXIgZm9yIGFkZGluZyBwcm9qZWN0IGFmdGVyIHR5cGluZyBuYW1lXG4gIGFkZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIHByb2plY3RzLmFkZFByb2plY3QobmV3IFByb2plY3QoaW5wdXQudmFsdWUpKTtcblxuICAgIC8vIFdlIHdhbnQgdG8gcmVmbGVjdCB0aGUgYWRkZWQgcHJvamVjdCBvbiB0aGUgbGlzdC5cbiAgICByZW1vdmVDaGlsZHJlbkZyb21OYXYobGlzdCk7XG4gICAgcG9wdWxhdGVQcm9qZWN0cyhwcm9qZWN0cywgbGlzdCk7XG5cbiAgICB1cGRhdGVQcm9qZWN0c1N0b3JhZ2UocHJvamVjdHMpO1xuICB9KTtcblxuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoYWRkKTtcbiAgbGlzdC5hcHBlbmRDaGlsZChjb250YWluZXIpO1xufVxuIiwiaW1wb3J0IHtcbiAgY2hlY2tTdG9yYWdlLFxuICBsb2FkSW5ib3hGcm9tU3RvcmFnZSxcbiAgbG9hZFByb2plY3RzRnJvbVN0b3JhZ2UsXG59IGZyb20gXCIuL3N0b3JhZ2VcIjtcbmltcG9ydCB7IGNyZWF0ZUluYm94Rm9ybSwgY3JlYXRlUHJvamVjdE5hbWVGb3JtIH0gZnJvbSBcIi4vZm9ybVwiO1xuaW1wb3J0IHtcbiAgcmVtb3ZlQ2hpbGRyZW4sXG4gIHJlbW92ZUNoaWxkcmVuRnJvbU5hdixcbiAgcG9wdWxhdGVJbmJveCxcbiAgcG9wdWxhdGVQcm9qZWN0cyxcbn0gZnJvbSBcIi4vaGVscGVyRnVuY3Rpb25zXCI7XG5pbXBvcnQgeyBjbGVhckxvY2FsU3RvcmFnZSB9IGZyb20gXCIuL3Rlc3RcIjtcblxubGV0IGluYm94O1xubGV0IHByb2plY3RzO1xuXG4vLyBJbmJveCBidXR0b24gZXZlbnQgbGlzdGVuZXIgc3R1ZmYuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2luYm94XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGxldCBsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsaXN0XCIpO1xuICByZW1vdmVDaGlsZHJlbigpOyAvLyBDbGVhciBjb250ZW50XG4gIHBvcHVsYXRlSW5ib3goaW5ib3gsIGxpc3QpOyAvLyBQb3B1bGF0ZVxuICBjcmVhdGVJbmJveEZvcm0oaW5ib3gsIGxpc3QpOyAvLyBDcmVhdGUgJiBhZGQgZm9ybVxufSk7XG5cbi8vIFByb2plY3RzIGJ1dHRvbiBldmVudCBsaXN0ZW5lciBzdHVmZi5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdHNcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgbGV0IGxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3RzLWxpc3RcIik7XG5cbiAgLy8gQWxsb3dzIGZvciB0b2dnbGluZyBmdW5jdGlvbmFsaXR5XG4gIGlmIChsaXN0LmNoaWxkTm9kZXMubGVuZ3RoID4gMCkge1xuICAgIHJlbW92ZUNoaWxkcmVuRnJvbU5hdihsaXN0KTtcbiAgfSBlbHNlIHtcbiAgICByZW1vdmVDaGlsZHJlbkZyb21OYXYobGlzdCk7XG4gICAgcG9wdWxhdGVQcm9qZWN0cyhwcm9qZWN0cywgbGlzdCk7XG4gIH1cblxuICBwcm9qZWN0cy5zaG93UHJvamVjdHMoKTtcbn0pO1xuXG4vLyBBZGQgcHJvamVjdCBidXR0b24gZXZlbnQgbGlzdGVuZXIgc3R1ZmYuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1wcm9qZWN0XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGxldCBsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9qZWN0cy1saXN0XCIpO1xuICByZW1vdmVDaGlsZHJlbkZyb21OYXYoKTtcbiAgcG9wdWxhdGVQcm9qZWN0cyhwcm9qZWN0cywgbGlzdCk7XG4gIGNyZWF0ZVByb2plY3ROYW1lRm9ybShwcm9qZWN0cywgbGlzdCk7XG59KTtcblxuLy8gbGV0IHNhbXBsZVByb2plY3RzID0gW1xuLy8gICB7XG4vLyAgICAgdGl0bGU6IFwidGl0bGUxXCIsXG4vLyAgICAgdG9kb3M6IFtcbi8vICAgICAgIHsgdGl0bGU6IFwidG9kbzFcIiwgZGVzY3JpcHRpb246IFwiZGVzYzFcIiwgZHVlOiBcInRvZGF5XCIsIHNldmVyaXR5OiBcImxvd1wiIH0sXG4vLyAgICAgICB7XG4vLyAgICAgICAgIHRpdGxlOiBcInRvZG8yXCIsXG4vLyAgICAgICAgIGRlc2NyaXB0aW9uOiBcImRlc2MyXCIsXG4vLyAgICAgICAgIGR1ZTogXCJ0b21vcnJvd1wiLFxuLy8gICAgICAgICBzZXZlcml0eTogXCJtZWRpdW1cIixcbi8vICAgICAgIH0sXG4vLyAgICAgXSxcbi8vICAgfSxcbi8vICAge1xuLy8gICAgIHRpdGxlOiBcInRpdGxlMlwiLFxuLy8gICAgIHRvZG9zOiBbXG4vLyAgICAgICB7XG4vLyAgICAgICAgIHRpdGxlOiBcInRvZG81XCIsXG4vLyAgICAgICAgIGRlc2NyaXB0aW9uOiBcImRlc2M1XCIsXG4vLyAgICAgICAgIGR1ZTogXCJ5ZXN0ZXJkYXlcIixcbi8vICAgICAgICAgc2V2ZXJpdHk6IFwiaGlnaFwiLFxuLy8gICAgICAgfSxcbi8vICAgICBdLFxuLy8gICB9LFxuLy8gICB7IHRpdGxlOiBcInRpdGxlM1wiLCB0b2RvczogW10gfSxcbi8vIF07XG4vLyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInByb2plY3RzXCIsIEpTT04uc3RyaW5naWZ5KHNhbXBsZVByb2plY3RzKSk7XG5cbmNsZWFyTG9jYWxTdG9yYWdlKCk7XG5jaGVja1N0b3JhZ2UoKTtcbmluYm94ID0gbG9hZEluYm94RnJvbVN0b3JhZ2UoKTtcbi8vIGluYm94LnNob3dJbmJveCgpO1xuXG5wcm9qZWN0cyA9IGxvYWRQcm9qZWN0c0Zyb21TdG9yYWdlKCk7XG4vLyBwcm9qZWN0cy5zaG93UHJvamVjdHMoKTtcbiIsImltcG9ydCB7IFRvZG8sIFNpbXBsZVRvZG8gfSBmcm9tIFwiLi90b2RvXCI7XG5pbXBvcnQgeyBJbmJveCB9IGZyb20gXCIuL2luYm94XCI7XG5cbi8vIEZ1bmN0aW9uIHRlc3RzIGluYm94IGJ5IGFkZGluZyB0b2RvcyBhbmQgc2hvd2luZyBpdHMgY29udGVudHMuXG5leHBvcnQgZnVuY3Rpb24gdGVzdEluYm94KCkge1xuICBsZXQgdG9kbzEgPSBuZXcgU2ltcGxlVG9kbyhcInRpdGxlMVwiLCBcImRlc2NyaXB0aW9uMVwiKTtcbiAgbGV0IHRvZG8yID0gbmV3IFNpbXBsZVRvZG8oXCJ0aXRsZTJcIiwgXCJkZXNjcmlwdGlvbjJcIik7XG4gIGxldCB0b2RvMyA9IG5ldyBTaW1wbGVUb2RvKFwidGl0bGUzXCIsIFwiZGVzY3JpcHRpb24zXCIpO1xuICBsZXQgdG9kbzQgPSBuZXcgU2ltcGxlVG9kbyhcInRpdGxlNFwiLCBcImRlc2NyaXB0aW9uNFwiKTtcblxuICBsZXQgaW5ib3ggPSBuZXcgSW5ib3goKTtcbiAgaW5ib3guYWRkVG9kbyh0b2RvMSk7XG4gIGluYm94LmFkZFRvZG8odG9kbzIpO1xuICBpbmJveC5hZGRUb2RvKHRvZG8zKTtcbiAgaW5ib3guYWRkVG9kbyh0b2RvNCk7XG5cbiAgaW5ib3guc2hvd0luYm94KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhckxvY2FsU3RvcmFnZSgpIHtcbiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJpbmJveFwiKTtcbiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJwcm9qZWN0c1wiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBvcHVsYXRlSW5ib3goKSB7XG4gIGxldCBpbmJveCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJpbmJveFwiKSk7XG4gIGluYm94LnB1c2goeyB0aXRsZTogXCJ0aXRsZTFcIiwgZGVzY3JpcHRpb246IFwiZGVzY3JpcHRpb24xXCIgfSk7XG4gIGluYm94LnB1c2goeyB0aXRsZTogXCJ0aXRsZTJcIiwgZGVzY3JpcHRpb246IFwiZGVzY3JpcHRpb24yXCIgfSk7XG4gIGluYm94LnB1c2goeyB0aXRsZTogXCJ0aXRsZTNcIiwgZGVzY3JpcHRpb246IFwiZGVzY3JpcHRpb24zXCIgfSk7XG4gIGluYm94LnB1c2goeyB0aXRsZTogXCJ0aXRsZTRcIiwgZGVzY3JpcHRpb246IFwiZGVzY3JpcHRpb240XCIgfSk7XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiaW5ib3hcIiwgSlNPTi5zdHJpbmdpZnkoaW5ib3gpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByaW50TG9jYWxTdG9yYWdlKCkge1xuICBsZXQgaW5ib3ggPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiaW5ib3hcIikpO1xuICBmb3IgKGxldCB0b2RvIG9mIGluYm94KSB7XG4gICAgY29uc29sZS5sb2codG9kbyk7XG4gIH1cbn1cblxuLy8gbGV0IHNhbXBsZVByb2plY3RzID0gW1xuLy8gICB7XG4vLyAgICAgdGl0bGU6IFwidGl0bGUxXCIsXG4vLyAgICAgdG9kb3M6IFtcbi8vICAgICAgIHsgdGl0bGU6IFwidG9kbzFcIiwgZGVzY3JpcHRpb246IFwiZGVzYzFcIiwgZHVlOiBcInRvZGF5XCIsIHNldmVyaXR5OiBcImxvd1wiIH0sXG4vLyAgICAgICB7XG4vLyAgICAgICAgIHRpdGxlOiBcInRvZG8yXCIsXG4vLyAgICAgICAgIGRlc2NyaXB0aW9uOiBcImRlc2MyXCIsXG4vLyAgICAgICAgIGR1ZTogXCJ0b21vcnJvd1wiLFxuLy8gICAgICAgICBzZXZlcml0eTogXCJtZWRpdW1cIixcbi8vICAgICAgIH0sXG4vLyAgICAgXSxcbi8vICAgfSxcbi8vICAge1xuLy8gICAgIHRpdGxlOiBcInRpdGxlMlwiLFxuLy8gICAgIHRvZG9zOiBbXG4vLyAgICAgICB7XG4vLyAgICAgICAgIHRpdGxlOiBcInRvZG81XCIsXG4vLyAgICAgICAgIGRlc2NyaXB0aW9uOiBcImRlc2M1XCIsXG4vLyAgICAgICAgIGR1ZTogXCJ5ZXN0ZXJkYXlcIixcbi8vICAgICAgICAgc2V2ZXJpdHk6IFwiaGlnaFwiLFxuLy8gICAgICAgfSxcbi8vICAgICBdLFxuLy8gICB9LFxuLy8gICB7IHRpdGxlOiBcInRpdGxlM1wiLCB0b2RvczogW10gfSxcbi8vIF07XG4vLyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInByb2plY3RzXCIsIEpTT04uc3RyaW5naWZ5KHNhbXBsZVByb2plY3RzKSk7XG4iXSwibmFtZXMiOlsiYWRkVG9kbyIsInRvZG8iLCJ0aGlzIiwicHVzaCIsImluYm94IiwicmVtb3ZlVG9kbyIsInRpdGxlIiwiaW5kZXgiLCJpIiwibGVuZ3RoIiwic3BsaWNlIiwic3RyaW5naWZ5IiwiZ2V0VG9kbyIsIkpTT04iLCJzaG93SW5ib3giLCJzaG93VG9kbyIsIlRvZG8iLCJjb25zdHJ1Y3RvciIsImRlc2NyaXB0aW9uIiwiZHVlIiwicHJpb3JpdHkiLCJjb25zb2xlIiwibG9nIiwiUHJvamVjdHMiLCJwcm9qZWN0cyIsImFkZFByb2plY3QiLCJwcm9qZWN0IiwicmVtb3ZlUHJvamVjdCIsInNob3dQcm9qZWN0cyIsInNob3dQcm9qZWN0IiwiUHJvamVjdCIsInByb2plY3RUaXRsZSIsInVwZGF0ZUluYm94U3RvcmFnZSIsImxvY2FsU3RvcmFnZSIsInVwZGF0ZVByb2plY3RzU3RvcmFnZSIsInJlbW92ZUNoaWxkcmVuIiwibGlzdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNoaWxkTm9kZXMiLCJyZW1vdmVDaGlsZCIsImZpcnN0Q2hpbGQiLCJyZW1vdmUiLCJyZW1vdmVDaGlsZHJlbkZyb21OYXYiLCJwb3B1bGF0ZU1haW4iLCJ0b2RvcyIsImxpIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsInRvZG9UZXh0IiwidGV4dENvbnRlbnQiLCJhcHBlbmRDaGlsZCIsInBvcHVsYXRlUHJvamVjdHMiLCJhZGRFdmVudExpc3RlbmVyIiwiY3JlYXRlUHJvamVjdEZvcm0iLCJwcm9qZWN0VGV4dCIsImNyZWF0ZUNoZWNrYm94IiwiY2hlY2tib3giLCJlIiwidGFyZ2V0IiwicGFyZW50RWxlbWVudCIsImdldEF0dHJpYnV0ZSIsInJlbW92ZVBhcmVudCIsImZvcm1EaXYiLCJ0aXRsZUlucHV0IiwiZGVzY3JpcHRpb25JbnB1dCIsInRvZGF5IiwiRGF0ZSIsImZvcm1hdHRlZERhdGUiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwidG9TdHJpbmciLCJwYWRTdGFydCIsImdldERhdGUiLCJkdWVJbnB1dCIsInByaW9yaXR5U2VsZWN0IiwidmFsdWVzIiwidmFsdWUiLCJvcHRpb24iLCJidXR0b24iLCJnZW5lcmF0ZVRvZG9Qcm9qZWN0IiwicGFyZW50Tm9kZSIsInBvcHVsYXRlSW5ib3giLCJnZW5lcmF0ZVRvZG8iLCJjcmVhdGVJbmJveEZvcm0iLCJjb250YWluZXIiLCJpbnB1dCIsImFkZCIsImNyZWF0ZVByb2plY3ROYW1lRm9ybSIsInJlbW92ZUl0ZW0iLCJzZXRJdGVtIiwiY2hlY2tTdG9yYWdlIiwiaW5ib3hGcm9tTG9jYWwiLCJnZXRJdGVtIiwicGFyc2UiLCJ0b2RvRnJvbUxvY2FsIiwibG9hZEluYm94RnJvbVN0b3JhZ2UiLCJwcm9qZWN0c0Zyb21Mb2NhbCIsInByb2plY3RGcm9tTG9jYWwiLCJ0b2RvVGl0bGUiLCJ0b2RvRGVzY3JpcHRpb24iLCJ0b2RvRHVlIiwidG9kb1ByaW9yaXR5IiwicHJvamVjdFRvZG8iLCJsb2FkUHJvamVjdHNGcm9tU3RvcmFnZSJdLCJzb3VyY2VSb290IjoiIn0=