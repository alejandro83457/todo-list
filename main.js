(()=>{"use strict";class t{#t=[];addTodo(t){this.#t.push(t)}get inbox(){return this.#t}removeTodo(t){let e;for(let o=0;o<this.#t.length;o++)this.#t[o].title==t&&(e=o);this.#t.splice(e,1)}stringify(){let t=[];for(let e of this.#t)t.push(e.getTodo());return JSON.stringify(t)}showInbox(){for(let t of this.#t)t.showTodo()}}class e{#e;#o;#i;#r;constructor(t,e,o,i){this.#e=t,this.#o=e,this.#i=o,this.#r=i}get title(){return this.#e}get description(){return this.#o}get due(){return this.#i}get priority(){return this.#r}getTodo(){return{title:this.#e,description:this.#o,due:this.#i,priority:this.#r}}showTodo(){console.log(`\t${this.#e} ${this.#o} ${this.#i} ${this.#r}`)}}class o{#e;#o;constructor(t,e){this.#e=t,this.#o=e}get title(){return this.#e}get description(){return this.#o}getTodo(){return{title:this.#e,description:this.#o}}showTodo(){console.log(`${this.#e} ${this.#o}`)}}class i{#n=[];get projects(){return this.#n}addProject(t){this.#n.push(t)}removeProject(t){let e;for(let o=0;o<this.#n.length;o++)this.#n[o].title==t&&(e=o);this.#n.splice(e,1)}stringify(){let t=[];for(let e of this.#n)t.push(e.stringify());return JSON.stringify(t)}showProjects(){for(let t of this.#n)t.showProject()}}class r{#l={};constructor(t){this.#l.title=t,this.#l.todos=[]}get projectTitle(){return this.#l.title}get project(){return this.#l}stringify(){let t={};t.title=this.#l.title,t.todos=[];for(let e of this.#l.todos)t.todos.push(e.getTodo());return t}addTodo(t){this.#l.todos.push(t)}showProject(){console.log(this.#l.title);for(let t of this.#l.todos)t.showTodo()}}function n(t){localStorage.inbox=t.stringify()}function l(t){localStorage.projects=t.stringify()}function d(){let t=document.querySelector("#list");for(;t.childNodes.length>0;)t.removeChild(t.firstChild);document.querySelector("#inbox-form")?document.querySelector("#inbox-form").remove():document.querySelector("#project-form")&&document.querySelector("#project-form").remove()}function c(){let t=document.querySelector("#projects-list");for(;t.childNodes.length>0;)t.removeChild(t.firstChild)}function u(t){let e=document.querySelector("#list"),o=t.project.todos;for(let t of o){let o=document.createElement("li");o.setAttribute("data",t.title);let i=document.createElement("div");i.textContent=`${t.title} ${t.description} ${t.due} ${t.priority}`,o.appendChild(i),e.appendChild(o)}}function s(t,e){for(let o of t.projects){let i=document.createElement("li");i.addEventListener("click",(()=>{document.querySelector("#inbox-form")&&document.querySelector("#inbox-form").remove(),d(),u(o),a(o,t)}));let r=document.createElement("div");r.textContent=`${o.projectTitle}`,i.appendChild(r),e.appendChild(i)}}function p(t){let e=document.createElement("input");return e.setAttribute("type","checkbox"),e.addEventListener("change",(e=>{t.removeTodo(e.target.parentElement.getAttribute("data")),function(t){t.target.parentElement.remove()}(e),n(t)})),e}function a(t,o){let i=document.querySelector("#list"),r=document.createElement("div");r.setAttribute("id","project-form");let n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("id","title"),n.setAttribute("placeholder","Title");let d=document.createElement("input");d.setAttribute("type","text"),d.setAttribute("id","description"),d.setAttribute("placeholder","Description");let c=new Date,u=`${c.getFullYear()}-${(c.getMonth()+1).toString().padStart(2,"0")}-${c.getDate().toString().padStart(2,"0")}`,s=document.createElement("input");s.setAttribute("id","due"),s.setAttribute("type","date"),s.setAttribute("value",u);let p=document.createElement("select");p.setAttribute("id","priority");let a=["low","medium","high"];for(let t of a){let e=document.createElement("option");e.setAttribute("value",t),e.textContent=t,p.appendChild(e)}let h=document.createElement("button");h.setAttribute("type","button"),h.setAttribute("id","add-todo-button"),h.textContent="Add",h.addEventListener("click",(()=>{!function(t,o,i){let r=document.querySelector("#title"),n=document.querySelector("#description"),d=document.querySelector("#due"),c=document.querySelector("#priority"),u=document.createElement("li");u.setAttribute("data",r.value);let s=document.createElement("div");s.textContent=`${r.value} ${n.value} ${d.value} ${c.value}`,u.appendChild(s),i.appendChild(u);let p=new e(r.value,n.value,d.value,c.value);t.addTodo(p),l(o)}(t,o,i),document.querySelector("#title").value="",document.querySelector("#description").value="",document.querySelector("#due").value=u})),r.appendChild(n),r.appendChild(d),r.appendChild(s),r.appendChild(p),r.appendChild(h),i.parentNode.appendChild(r)}let h,m;document.querySelector("#inbox").addEventListener("click",(()=>{let t=document.querySelector("#list");d(),function(t,e){for(let o of t.inbox){let i=document.createElement("li");i.setAttribute("data",o.title);let r=document.createElement("div");r.textContent=`${o.title} ${o.description}`;let n=p(t);i.appendChild(n),i.appendChild(r),e.appendChild(i)}}(h,t),function(t,e){let i=document.createElement("div");i.setAttribute("id","inbox-form");let r=document.createElement("input");r.setAttribute("type","text"),r.setAttribute("id","title"),r.setAttribute("placeholder","Title");let l=document.createElement("input");l.setAttribute("type","text"),l.setAttribute("id","description"),l.setAttribute("placeholder","Description");let d=document.createElement("button");d.setAttribute("type","button"),d.setAttribute("id","add-todo-button"),d.textContent="Add",d.addEventListener("click",(()=>{!function(t,e){let i=document.querySelector("#title"),r=document.querySelector("#description"),l=document.createElement("li");l.setAttribute("data",i.value);let d=document.createElement("div");d.textContent=`${i.value} ${r.value}`;let c=p(t);l.appendChild(c),l.appendChild(d),e.appendChild(l);let u=new o(i.value,r.value);t.addTodo(u),n(t)}(t,e),document.querySelector("#title").value="",document.querySelector("#description").value=""})),i.appendChild(r),i.appendChild(l),i.appendChild(d),e.parentNode.appendChild(i)}(h,t)})),document.querySelector("#projects").addEventListener("click",(()=>{let t=document.querySelector("#projects-list");t.childNodes.length>0?c():(c(),s(m,t)),m.showProjects()})),document.querySelector("#add-project").addEventListener("click",(()=>{let t=document.querySelector("#projects-list");c(),s(m,t),function(t,e){let o=document.createElement("div"),i=document.createElement("input"),n=document.createElement("div");o.setAttribute("id","project-name-container"),i.setAttribute("type","text"),i.setAttribute("id","project-name"),i.setAttribute("placeholder","Project name"),n.setAttribute("id","add-project-button"),n.textContent="Add",n.addEventListener("click",(()=>{t.addProject(new r(i.value)),c(),s(t,e),l(t)})),o.appendChild(i),o.appendChild(n),e.appendChild(o)}(m,t)})),function(){if(0==localStorage.length){console.log("Empty. Loading content...");let t=[],e=[];localStorage.setItem("inbox",JSON.stringify(t)),localStorage.setItem("projects",JSON.stringify(e))}else console.log("Content found.")}(),h=function(){let e=localStorage.getItem("inbox");e=JSON.parse(e);let i=new t;for(let t of e){let e=t.title,r=t.description,n=new o(e,r);i.addTodo(n)}return i}(),m=function(){let t=localStorage.getItem("projects");t=JSON.parse(t);let o=new i;for(let i of t){let t=i.title,n=i.todos,l=new r(t);for(let t of n){let o=t.title,i=t.description,r=t.due,n=t.priority,d=new e(o,i,r,n);l.addTodo(d)}o.addProject(l)}return o}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFhd0QsUUFBUSxRQUFTN0UsS0FBS0YsVUFBVVAsSUFDN0M4QixhQUFhd0QsUUFBUSxXQUFZN0UsS0FBS0YsVUFBVWMsR0FDbEQsTUFBT0osUUFBUUMsSUFBSSxpQkFDckIsQ0crREFxRSxHQUNBdkYsRUg3RE8sV0FDTCxJQUFJd0YsRUFBaUIxRCxhQUFhMkQsUUFBUSxTQUMxQ0QsRUFBaUIvRSxLQUFLaUYsTUFBTUYsR0FDNUIsSUFBSXhGLEVBQVEsSUFBSUwsRUFDaEIsSUFBSyxJQUFJZ0csS0FBaUJILEVBQWdCLENBQ3hDLElBQUl0RixFQUFReUYsRUFBY3pGLE1BQ3RCWSxFQUFjNkUsRUFBYzdFLFlBQzVCakIsRUFBTyxJQUFJc0IsRUFBV2pCLEVBQU9ZLEdBQ2pDZCxFQUFNSixRQUFRQyxFQUNoQixDQUNBLE9BQU9HLENBQ1QsQ0drRFE0RixHQUdSdkUsRUhsRE8sV0FDTCxJQUFJd0UsRUFBb0IvRCxhQUFhMkQsUUFBUSxZQUM3Q0ksRUFBb0JwRixLQUFLaUYsTUFBTUcsR0FDL0IsSUFBSXhFLEVBQVcsSUFBSUQsRUFDbkIsSUFBSyxJQUFJMEUsS0FBb0JELEVBQW1CLENBQzlDLElBQUkzRixFQUFRNEYsRUFBd0IsTUFDaENwRCxFQUFRb0QsRUFBd0IsTUFDaEN2RSxFQUFVLElBQUlJLEVBQVF6QixHQUMxQixJQUFLLElBQUlMLEtBQVE2QyxFQUFPLENBQ3RCLElBQUlxRCxFQUFZbEcsRUFBWSxNQUN4Qm1HLEVBQWtCbkcsRUFBa0IsWUFDcENvRyxFQUFVcEcsRUFBVSxJQUNwQnFHLEVBQWVyRyxFQUFlLFNBQzlCc0csRUFBYyxJQUFJdkYsRUFDcEJtRixFQUNBQyxFQUNBQyxFQUNBQyxHQUVGM0UsRUFBUTNCLFFBQVF1RyxFQUNsQixDQUNBOUUsRUFBU0MsV0FBV0MsRUFDdEIsQ0FDQSxPQUFPRixDQUNULENHMEJXK0UsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9pbmJveC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvdG9kby5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvcHJvamVjdC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvc3RvcmFnZS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaGVscGVyRnVuY3Rpb25zLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9mb3JtLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBJbmJveCB7XG4gICNpbmJveCA9IFtdO1xuXG4gIGFkZFRvZG8odG9kbykge1xuICAgIHRoaXMuI2luYm94LnB1c2godG9kbyk7XG4gIH1cblxuICBnZXQgaW5ib3goKSB7XG4gICAgcmV0dXJuIHRoaXMuI2luYm94O1xuICB9XG5cbiAgcmVtb3ZlVG9kbyh0aXRsZSkge1xuICAgIGxldCBpbmRleDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuI2luYm94Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy4jaW5ib3hbaV0udGl0bGUgPT0gdGl0bGUpIGluZGV4ID0gaTtcbiAgICB9XG4gICAgdGhpcy4jaW5ib3guc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxuXG4gIHN0cmluZ2lmeSgpIHtcbiAgICBsZXQgaW5ib3ggPSBbXTtcbiAgICBmb3IgKGxldCB0b2RvIG9mIHRoaXMuI2luYm94KSB7XG4gICAgICBpbmJveC5wdXNoKHRvZG8uZ2V0VG9kbygpKTtcbiAgICB9XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGluYm94KTtcbiAgfVxuXG4gIHNob3dJbmJveCgpIHtcbiAgICBmb3IgKGxldCB0b2RvIG9mIHRoaXMuI2luYm94KSB7XG4gICAgICB0b2RvLnNob3dUb2RvKCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IEluYm94IH07XG4iLCIvLyBVc2VkIGZvciBwcm9qZWN0c1xuY2xhc3MgVG9kbyB7XG4gICN0aXRsZTtcbiAgI2Rlc2NyaXB0aW9uO1xuICAjZHVlO1xuICAjcHJpb3JpdHk7XG4gIGNvbnN0cnVjdG9yKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlLCBwcmlvcml0eSkge1xuICAgIHRoaXMuI3RpdGxlID0gdGl0bGU7XG4gICAgdGhpcy4jZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB0aGlzLiNkdWUgPSBkdWU7XG4gICAgdGhpcy4jcHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgfVxuICBnZXQgdGl0bGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuI3RpdGxlO1xuICB9XG4gIGdldCBkZXNjcmlwdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy4jZGVzY3JpcHRpb247XG4gIH1cbiAgZ2V0IGR1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy4jZHVlO1xuICB9XG4gIGdldCBwcmlvcml0eSgpIHtcbiAgICByZXR1cm4gdGhpcy4jcHJpb3JpdHk7XG4gIH1cbiAgZ2V0VG9kbygpIHtcbiAgICBsZXQgdGl0bGUgPSB0aGlzLiN0aXRsZTtcbiAgICBsZXQgZGVzY3JpcHRpb24gPSB0aGlzLiNkZXNjcmlwdGlvbjtcbiAgICBsZXQgZHVlID0gdGhpcy4jZHVlO1xuICAgIGxldCBwcmlvcml0eSA9IHRoaXMuI3ByaW9yaXR5O1xuICAgIHJldHVybiB7IHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlLCBwcmlvcml0eSB9O1xuICB9XG4gIHNob3dUb2RvKCkge1xuICAgIGNvbnNvbGUubG9nKFxuICAgICAgYFxcdCR7dGhpcy4jdGl0bGV9ICR7dGhpcy4jZGVzY3JpcHRpb259ICR7dGhpcy4jZHVlfSAke3RoaXMuI3ByaW9yaXR5fWBcbiAgICApO1xuICB9XG59XG5cbi8vIFVzZWQgZm9yIGluYm94IG9ubHlcbmNsYXNzIFNpbXBsZVRvZG8ge1xuICAjdGl0bGU7XG4gICNkZXNjcmlwdGlvbjtcbiAgY29uc3RydWN0b3IodGl0bGUsIGRlc2NyaXB0aW9uKSB7XG4gICAgdGhpcy4jdGl0bGUgPSB0aXRsZTtcbiAgICB0aGlzLiNkZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICB9XG4gIGdldCB0aXRsZSgpIHtcbiAgICByZXR1cm4gdGhpcy4jdGl0bGU7XG4gIH1cbiAgZ2V0IGRlc2NyaXB0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLiNkZXNjcmlwdGlvbjtcbiAgfVxuICBnZXRUb2RvKCkge1xuICAgIGxldCB0aXRsZSA9IHRoaXMuI3RpdGxlO1xuICAgIGxldCBkZXNjcmlwdGlvbiA9IHRoaXMuI2Rlc2NyaXB0aW9uO1xuICAgIHJldHVybiB7IHRpdGxlLCBkZXNjcmlwdGlvbiB9O1xuICB9XG4gIHNob3dUb2RvKCkge1xuICAgIGNvbnNvbGUubG9nKGAke3RoaXMuI3RpdGxlfSAke3RoaXMuI2Rlc2NyaXB0aW9ufWApO1xuICB9XG59XG5cbmV4cG9ydCB7IFRvZG8sIFNpbXBsZVRvZG8gfTtcbiIsImV4cG9ydCBjbGFzcyBQcm9qZWN0cyB7XG4gICNwcm9qZWN0cyA9IFtdO1xuXG4gIGdldCBwcm9qZWN0cygpIHtcbiAgICByZXR1cm4gdGhpcy4jcHJvamVjdHM7XG4gIH1cblxuICBhZGRQcm9qZWN0KHByb2plY3QpIHtcbiAgICB0aGlzLiNwcm9qZWN0cy5wdXNoKHByb2plY3QpO1xuICB9XG5cbiAgcmVtb3ZlUHJvamVjdCh0aXRsZSkge1xuICAgIGxldCBpbmRleDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuI3Byb2plY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy4jcHJvamVjdHNbaV0udGl0bGUgPT0gdGl0bGUpIGluZGV4ID0gaTtcbiAgICB9XG4gICAgdGhpcy4jcHJvamVjdHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxuXG4gIHN0cmluZ2lmeSgpIHtcbiAgICBsZXQgcHJvamVjdHMgPSBbXTtcbiAgICBmb3IgKGxldCBwcm9qZWN0IG9mIHRoaXMuI3Byb2plY3RzKSB7XG4gICAgICBwcm9qZWN0cy5wdXNoKHByb2plY3Quc3RyaW5naWZ5KCkpO1xuICAgIH1cbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocHJvamVjdHMpO1xuICB9XG5cbiAgc2hvd1Byb2plY3RzKCkge1xuICAgIGZvciAobGV0IHByb2plY3Qgb2YgdGhpcy4jcHJvamVjdHMpIHtcbiAgICAgIHByb2plY3Quc2hvd1Byb2plY3QoKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByb2plY3Qge1xuICAjcHJvamVjdCA9IHt9O1xuICBjb25zdHJ1Y3Rvcih0aXRsZSkge1xuICAgIHRoaXMuI3Byb2plY3RbXCJ0aXRsZVwiXSA9IHRpdGxlO1xuICAgIHRoaXMuI3Byb2plY3RbXCJ0b2Rvc1wiXSA9IFtdO1xuICB9XG4gIGdldCBwcm9qZWN0VGl0bGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuI3Byb2plY3RbXCJ0aXRsZVwiXTtcbiAgfVxuICBnZXQgcHJvamVjdCgpIHtcbiAgICByZXR1cm4gdGhpcy4jcHJvamVjdDtcbiAgfVxuICBzdHJpbmdpZnkoKSB7XG4gICAgbGV0IHByb2plY3QgPSB7fTtcbiAgICBwcm9qZWN0W1widGl0bGVcIl0gPSB0aGlzLiNwcm9qZWN0W1widGl0bGVcIl07XG4gICAgcHJvamVjdFtcInRvZG9zXCJdID0gW107XG4gICAgZm9yIChsZXQgdG9kbyBvZiB0aGlzLiNwcm9qZWN0W1widG9kb3NcIl0pIHtcbiAgICAgIHByb2plY3RbXCJ0b2Rvc1wiXS5wdXNoKHRvZG8uZ2V0VG9kbygpKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb2plY3Q7XG4gIH1cbiAgYWRkVG9kbyh0b2RvKSB7XG4gICAgdGhpcy4jcHJvamVjdFtcInRvZG9zXCJdLnB1c2godG9kbyk7XG4gIH1cbiAgc2hvd1Byb2plY3QoKSB7XG4gICAgY29uc29sZS5sb2codGhpcy4jcHJvamVjdFtcInRpdGxlXCJdKTtcbiAgICBmb3IgKGxldCB0b2RvIG9mIHRoaXMuI3Byb2plY3RbXCJ0b2Rvc1wiXSkge1xuICAgICAgdG9kby5zaG93VG9kbygpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgSW5ib3ggfSBmcm9tIFwiLi9pbmJveFwiO1xuaW1wb3J0IHsgU2ltcGxlVG9kbywgVG9kbyB9IGZyb20gXCIuL3RvZG9cIjtcbmltcG9ydCB7IFByb2plY3RzLCBQcm9qZWN0IH0gZnJvbSBcIi4vcHJvamVjdFwiO1xuXG4vLyBDaGVjayBpZiBsb2NhbFN0b3JhZ2UgaXMgc2V0IHVwIHByb3Blcmx5LlxuLy8gSWYgd2lsbCBvbmx5IHJ1biBvbmNlIHBlciBkZXZpY2UuXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tTdG9yYWdlKCkge1xuICBpZiAobG9jYWxTdG9yYWdlLmxlbmd0aCA9PSAwKSB7XG4gICAgY29uc29sZS5sb2coXCJFbXB0eS4gTG9hZGluZyBjb250ZW50Li4uXCIpO1xuICAgIGxldCBpbmJveCA9IFtdO1xuICAgIGxldCBwcm9qZWN0cyA9IFtdO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiaW5ib3hcIiwgSlNPTi5zdHJpbmdpZnkoaW5ib3gpKTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInByb2plY3RzXCIsIEpTT04uc3RyaW5naWZ5KHByb2plY3RzKSk7XG4gIH0gZWxzZSBjb25zb2xlLmxvZyhcIkNvbnRlbnQgZm91bmQuXCIpO1xufVxuXG4vLyBMb2FkcyBpbmJveCBkYXRhIGZyb20gbG9jYWwgc3RvcmFnZS5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkSW5ib3hGcm9tU3RvcmFnZSgpIHtcbiAgbGV0IGluYm94RnJvbUxvY2FsID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJpbmJveFwiKTtcbiAgaW5ib3hGcm9tTG9jYWwgPSBKU09OLnBhcnNlKGluYm94RnJvbUxvY2FsKTtcbiAgbGV0IGluYm94ID0gbmV3IEluYm94KCk7XG4gIGZvciAobGV0IHRvZG9Gcm9tTG9jYWwgb2YgaW5ib3hGcm9tTG9jYWwpIHtcbiAgICBsZXQgdGl0bGUgPSB0b2RvRnJvbUxvY2FsLnRpdGxlO1xuICAgIGxldCBkZXNjcmlwdGlvbiA9IHRvZG9Gcm9tTG9jYWwuZGVzY3JpcHRpb247XG4gICAgbGV0IHRvZG8gPSBuZXcgU2ltcGxlVG9kbyh0aXRsZSwgZGVzY3JpcHRpb24pO1xuICAgIGluYm94LmFkZFRvZG8odG9kbyk7XG4gIH1cbiAgcmV0dXJuIGluYm94O1xufVxuXG4vLyBMb2FkcyBwcm9qZWN0cyBmcm9tIGxvY2FsIHN0b3JhZ2VcbmV4cG9ydCBmdW5jdGlvbiBsb2FkUHJvamVjdHNGcm9tU3RvcmFnZSgpIHtcbiAgbGV0IHByb2plY3RzRnJvbUxvY2FsID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwcm9qZWN0c1wiKTtcbiAgcHJvamVjdHNGcm9tTG9jYWwgPSBKU09OLnBhcnNlKHByb2plY3RzRnJvbUxvY2FsKTtcbiAgbGV0IHByb2plY3RzID0gbmV3IFByb2plY3RzKCk7XG4gIGZvciAobGV0IHByb2plY3RGcm9tTG9jYWwgb2YgcHJvamVjdHNGcm9tTG9jYWwpIHtcbiAgICBsZXQgdGl0bGUgPSBwcm9qZWN0RnJvbUxvY2FsW1widGl0bGVcIl07XG4gICAgbGV0IHRvZG9zID0gcHJvamVjdEZyb21Mb2NhbFtcInRvZG9zXCJdO1xuICAgIGxldCBwcm9qZWN0ID0gbmV3IFByb2plY3QodGl0bGUpO1xuICAgIGZvciAobGV0IHRvZG8gb2YgdG9kb3MpIHtcbiAgICAgIGxldCB0b2RvVGl0bGUgPSB0b2RvW1widGl0bGVcIl07XG4gICAgICBsZXQgdG9kb0Rlc2NyaXB0aW9uID0gdG9kb1tcImRlc2NyaXB0aW9uXCJdO1xuICAgICAgbGV0IHRvZG9EdWUgPSB0b2RvW1wiZHVlXCJdO1xuICAgICAgbGV0IHRvZG9Qcmlvcml0eSA9IHRvZG9bXCJwcmlvcml0eVwiXTtcbiAgICAgIGxldCBwcm9qZWN0VG9kbyA9IG5ldyBUb2RvKFxuICAgICAgICB0b2RvVGl0bGUsXG4gICAgICAgIHRvZG9EZXNjcmlwdGlvbixcbiAgICAgICAgdG9kb0R1ZSxcbiAgICAgICAgdG9kb1ByaW9yaXR5XG4gICAgICApO1xuICAgICAgcHJvamVjdC5hZGRUb2RvKHByb2plY3RUb2RvKTtcbiAgICB9XG4gICAgcHJvamVjdHMuYWRkUHJvamVjdChwcm9qZWN0KTtcbiAgfVxuICByZXR1cm4gcHJvamVjdHM7XG59XG5cbi8vIFVwZGF0ZXMgc3RvcmFnZSBpbiBicm93c2VyIHRvIHJlZmxlY3QgYWRkZWQgaXRlbS5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVJbmJveFN0b3JhZ2UoaW5ib3gpIHtcbiAgbG9jYWxTdG9yYWdlW1wiaW5ib3hcIl0gPSBpbmJveC5zdHJpbmdpZnkoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVByb2plY3RzU3RvcmFnZShwcm9qZWN0cykge1xuICBsb2NhbFN0b3JhZ2VbXCJwcm9qZWN0c1wiXSA9IHByb2plY3RzLnN0cmluZ2lmeSgpO1xufVxuIiwiaW1wb3J0IHsgdXBkYXRlSW5ib3hTdG9yYWdlLCB1cGRhdGVQcm9qZWN0c1N0b3JhZ2UgfSBmcm9tIFwiLi9zdG9yYWdlXCI7XG5pbXBvcnQgeyBTaW1wbGVUb2RvLCBUb2RvIH0gZnJvbSBcIi4vdG9kb1wiO1xuaW1wb3J0IHsgY3JlYXRlUHJvamVjdEZvcm0gfSBmcm9tIFwiLi9mb3JtXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFJlbW92ZSBsaXN0IGJ1dHRvbiBldmVudCBsaXN0ZW5lclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVBhcmVudChlKSB7XG4gIGxldCBwYXJlbnQgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50O1xuICBwYXJlbnQucmVtb3ZlKCk7XG59XG5cbi8vIFJlbXZvZXMgY2hpbGRyZW4gZnJvbSBtYWluXG4vLyBSZW1vdmVzIGZvcm0gSUYgcHJlc2VudFxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUNoaWxkcmVuKCkge1xuICBsZXQgbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbGlzdFwiKTtcbiAgd2hpbGUgKGxpc3QuY2hpbGROb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgbGlzdC5yZW1vdmVDaGlsZChsaXN0LmZpcnN0Q2hpbGQpO1xuICB9XG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2luYm94LWZvcm1cIikpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2luYm94LWZvcm1cIikucmVtb3ZlKCk7XG4gIH0gZWxzZSBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9qZWN0LWZvcm1cIikpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3QtZm9ybVwiKS5yZW1vdmUoKTtcbiAgfVxufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQ2xlYXJzIGxpc3QgaW4gbmF2LlxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUNoaWxkcmVuRnJvbU5hdigpIHtcbiAgbGV0IGxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3RzLWxpc3RcIik7XG4gIHdoaWxlIChsaXN0LmNoaWxkTm9kZXMubGVuZ3RoID4gMCkge1xuICAgIGxpc3QucmVtb3ZlQ2hpbGQobGlzdC5maXJzdENoaWxkKTtcbiAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBQb3B1bGF0ZXMgaW5ib3hcbmV4cG9ydCBmdW5jdGlvbiBwb3B1bGF0ZUluYm94KGluYm94LCBsaXN0KSB7XG4gIGZvciAobGV0IHRvZG8gb2YgaW5ib3guaW5ib3gpIHtcbiAgICBsZXQgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgbGkuc2V0QXR0cmlidXRlKFwiZGF0YVwiLCB0b2RvLnRpdGxlKTtcblxuICAgIGxldCB0b2RvVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdG9kb1RleHQudGV4dENvbnRlbnQgPSBgJHt0b2RvLnRpdGxlfSAke3RvZG8uZGVzY3JpcHRpb259YDtcblxuICAgIGxldCBjaGVja2JveCA9IGNyZWF0ZUNoZWNrYm94KGluYm94KTtcblxuICAgIC8vIEFkZCBlbGVtZW50cyB0byBsaS5cbiAgICBsaS5hcHBlbmRDaGlsZChjaGVja2JveCk7XG4gICAgbGkuYXBwZW5kQ2hpbGQodG9kb1RleHQpO1xuICAgIGxpc3QuYXBwZW5kQ2hpbGQobGkpO1xuICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFBvcHVsYXRlcyBwcm9qZWN0c1xuZXhwb3J0IGZ1bmN0aW9uIHBvcHVsYXRlTWFpbihwcm9qZWN0KSB7XG4gIGxldCBsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsaXN0XCIpO1xuICBsZXQgdG9kb3MgPSBwcm9qZWN0LnByb2plY3RbXCJ0b2Rvc1wiXTtcbiAgZm9yIChsZXQgdG9kbyBvZiB0b2Rvcykge1xuICAgIGxldCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgICBsaS5zZXRBdHRyaWJ1dGUoXCJkYXRhXCIsIHRvZG8udGl0bGUpO1xuXG4gICAgbGV0IHRvZG9UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0b2RvVGV4dC50ZXh0Q29udGVudCA9IGAke3RvZG8udGl0bGV9ICR7dG9kby5kZXNjcmlwdGlvbn0gJHt0b2RvLmR1ZX0gJHt0b2RvLnByaW9yaXR5fWA7XG5cbiAgICAvLyBUT0RPOiBDcmVhdGUgY2hlY2tib3hcblxuICAgIC8vIEFkZCBlbGVtZGVudHMgdG8gbGkuXG4gICAgbGkuYXBwZW5kQ2hpbGQodG9kb1RleHQpO1xuICAgIGxpc3QuYXBwZW5kQ2hpbGQobGkpO1xuICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFBvcHVsYXRlcyBwcm9qZWN0cyB0aXRsZSBvbiBuYXZcbmV4cG9ydCBmdW5jdGlvbiBwb3B1bGF0ZVByb2plY3RzKHByb2plY3RzLCBsaXN0KSB7XG4gIGZvciAobGV0IHByb2plY3Qgb2YgcHJvamVjdHMucHJvamVjdHMpIHtcbiAgICBsZXQgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgbGkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2luYm94LWZvcm1cIikpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbmJveC1mb3JtXCIpLnJlbW92ZSgpO1xuICAgICAgfVxuICAgICAgcmVtb3ZlQ2hpbGRyZW4oKTtcbiAgICAgIHBvcHVsYXRlTWFpbihwcm9qZWN0KTtcbiAgICAgIGNyZWF0ZVByb2plY3RGb3JtKHByb2plY3QsIHByb2plY3RzKTtcbiAgICB9KTtcblxuICAgIGxldCBwcm9qZWN0VGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgcHJvamVjdFRleHQudGV4dENvbnRlbnQgPSBgJHtwcm9qZWN0LnByb2plY3RUaXRsZX1gO1xuXG4gICAgbGkuYXBwZW5kQ2hpbGQocHJvamVjdFRleHQpO1xuICAgIGxpc3QuYXBwZW5kQ2hpbGQobGkpO1xuICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIENyZWF0ZSBhbmQgYWRkIGEgdG9kbyBmb3IgaW5ib3guXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVUb2RvKGluYm94LCBsaXN0KSB7XG4gIGxldCB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGl0bGVcIik7XG4gIGxldCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVzY3JpcHRpb25cIik7XG4gIGxldCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgbGkuc2V0QXR0cmlidXRlKFwiZGF0YVwiLCB0aXRsZS52YWx1ZSk7XG5cbiAgbGV0IHRvZG9UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgdG9kb1RleHQudGV4dENvbnRlbnQgPSBgJHt0aXRsZS52YWx1ZX0gJHtkZXNjcmlwdGlvbi52YWx1ZX1gO1xuXG4gIC8vIENoZWNrYm94IGZvciByZW1vdmluZyBsaXN0IGl0ZW0uXG4gIGxldCBjaGVja2JveCA9IGNyZWF0ZUNoZWNrYm94KGluYm94KTtcblxuICBsaS5hcHBlbmRDaGlsZChjaGVja2JveCk7XG4gIGxpLmFwcGVuZENoaWxkKHRvZG9UZXh0KTtcbiAgbGlzdC5hcHBlbmRDaGlsZChsaSk7XG5cbiAgbGV0IHRvZG8gPSBuZXcgU2ltcGxlVG9kbyh0aXRsZS52YWx1ZSwgZGVzY3JpcHRpb24udmFsdWUpO1xuICBpbmJveC5hZGRUb2RvKHRvZG8pO1xuXG4gIHVwZGF0ZUluYm94U3RvcmFnZShpbmJveCk7IC8vIFVwZGF0ZXMgbG9jYWwgc3RvcmFnZVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBDcmVhdGUgYW5kIGFkZCBhIHRvZG8gZm9yIHByb2plY3QuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVUb2RvUHJvamVjdChwcm9qZWN0LCBwcm9qZWN0cywgbGlzdCkge1xuICBsZXQgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RpdGxlXCIpO1xuICBsZXQgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Rlc2NyaXB0aW9uXCIpO1xuICBsZXQgZHVlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkdWVcIik7XG4gIGxldCBwcmlvcml0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJpb3JpdHlcIik7XG5cbiAgbGV0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICBsaS5zZXRBdHRyaWJ1dGUoXCJkYXRhXCIsIHRpdGxlLnZhbHVlKTtcblxuICAvLyBUT0RPOiBBZGQgY2hlY2tib3ggZm9yIHJlbW92YWxcblxuICBsZXQgdG9kb1RleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICB0b2RvVGV4dC50ZXh0Q29udGVudCA9IGAke3RpdGxlLnZhbHVlfSAke2Rlc2NyaXB0aW9uLnZhbHVlfSAke2R1ZS52YWx1ZX0gJHtwcmlvcml0eS52YWx1ZX1gO1xuXG4gIGxpLmFwcGVuZENoaWxkKHRvZG9UZXh0KTtcbiAgbGlzdC5hcHBlbmRDaGlsZChsaSk7XG5cbiAgbGV0IHRvZG8gPSBuZXcgVG9kbyhcbiAgICB0aXRsZS52YWx1ZSxcbiAgICBkZXNjcmlwdGlvbi52YWx1ZSxcbiAgICBkdWUudmFsdWUsXG4gICAgcHJpb3JpdHkudmFsdWVcbiAgKTtcblxuICBwcm9qZWN0LmFkZFRvZG8odG9kbyk7XG4gIHVwZGF0ZVByb2plY3RzU3RvcmFnZShwcm9qZWN0cyk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIENyZWF0ZXMgY2hlY2tib3guXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2hlY2tib3goaW5ib3gpIHtcbiAgbGV0IGNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICBjaGVja2JveC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiY2hlY2tib3hcIik7XG4gIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKGUpID0+IHtcbiAgICBpbmJveC5yZW1vdmVUb2RvKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YVwiKSk7XG4gICAgcmVtb3ZlUGFyZW50KGUpO1xuICAgIHVwZGF0ZUluYm94U3RvcmFnZShpbmJveCk7XG4gIH0pO1xuICByZXR1cm4gY2hlY2tib3g7XG59XG4iLCJpbXBvcnQgeyBnZW5lcmF0ZVRvZG8sIGdlbmVyYXRlVG9kb1Byb2plY3QgfSBmcm9tIFwiLi9oZWxwZXJGdW5jdGlvbnNcIjtcbmltcG9ydCB7IFByb2plY3QgfSBmcm9tIFwiLi9wcm9qZWN0XCI7XG5pbXBvcnQgeyByZW1vdmVDaGlsZHJlbkZyb21OYXYsIHBvcHVsYXRlUHJvamVjdHMgfSBmcm9tIFwiLi9oZWxwZXJGdW5jdGlvbnNcIjtcbmltcG9ydCB7IHVwZGF0ZVByb2plY3RzU3RvcmFnZSB9IGZyb20gXCIuL3N0b3JhZ2VcIjtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIENyZWF0ZXMgaW5ib3ggZm9ybVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUluYm94Rm9ybShpbmJveCwgbGlzdCkge1xuICBsZXQgZm9ybURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGZvcm1EaXYuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJpbmJveC1mb3JtXCIpO1xuXG4gIGxldCB0aXRsZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICB0aXRsZUlucHV0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuICB0aXRsZUlucHV0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwidGl0bGVcIik7XG4gIHRpdGxlSW5wdXQuc2V0QXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIiwgXCJUaXRsZVwiKTtcblxuICBsZXQgZGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgZGVzY3JpcHRpb25JbnB1dC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dFwiKTtcbiAgZGVzY3JpcHRpb25JbnB1dC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImRlc2NyaXB0aW9uXCIpO1xuICBkZXNjcmlwdGlvbklucHV0LnNldEF0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIsIFwiRGVzY3JpcHRpb25cIik7XG5cbiAgbGV0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xuICBidXR0b24uc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJhZGQtdG9kby1idXR0b25cIik7XG4gIGJ1dHRvbi50ZXh0Q29udGVudCA9IFwiQWRkXCI7XG5cbiAgLy8gQWRkIGl0ZW0gd2hlbiBjbGlja2luZyBhZGQgYnV0dG9uLlxuICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBnZW5lcmF0ZVRvZG8oaW5ib3gsIGxpc3QpO1xuXG4gICAgLy8gQ2xlYXIgZm9ybSBpbnB1dFxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGl0bGVcIikudmFsdWUgPSBcIlwiO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVzY3JpcHRpb25cIikudmFsdWUgPSBcIlwiO1xuICB9KTtcblxuICBmb3JtRGl2LmFwcGVuZENoaWxkKHRpdGxlSW5wdXQpO1xuICBmb3JtRGl2LmFwcGVuZENoaWxkKGRlc2NyaXB0aW9uSW5wdXQpO1xuICBmb3JtRGl2LmFwcGVuZENoaWxkKGJ1dHRvbik7XG5cbiAgbGlzdC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGZvcm1EaXYpO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQ3JlYXRlcyBwcm9qZWN0IHRvZG8gZm9ybVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVByb2plY3RGb3JtKHByb2plY3QsIHByb2plY3RzKSB7XG4gIGxldCBsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsaXN0XCIpO1xuICBsZXQgZm9ybURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGZvcm1EaXYuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJwcm9qZWN0LWZvcm1cIik7XG5cbiAgbGV0IHRpdGxlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gIHRpdGxlSW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIik7XG4gIHRpdGxlSW5wdXQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJ0aXRsZVwiKTtcbiAgdGl0bGVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiLCBcIlRpdGxlXCIpO1xuXG4gIGxldCBkZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICBkZXNjcmlwdGlvbklucHV0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuICBkZXNjcmlwdGlvbklucHV0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwiZGVzY3JpcHRpb25cIik7XG4gIGRlc2NyaXB0aW9uSW5wdXQuc2V0QXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIiwgXCJEZXNjcmlwdGlvblwiKTtcblxuICBsZXQgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICBsZXQgeWVhciA9IHRvZGF5LmdldEZ1bGxZZWFyKCk7XG4gIGxldCBtb250aCA9ICh0b2RheS5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIik7XG4gIGxldCBkYXkgPSB0b2RheS5nZXREYXRlKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cbiAgbGV0IGZvcm1hdHRlZERhdGUgPSBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX1gO1xuXG4gIGxldCBkdWVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgZHVlSW5wdXQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJkdWVcIik7XG4gIGR1ZUlucHV0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJkYXRlXCIpO1xuICBkdWVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBmb3JtYXR0ZWREYXRlKTtcblxuICBsZXQgcHJpb3JpdHlTZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO1xuICBwcmlvcml0eVNlbGVjdC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInByaW9yaXR5XCIpO1xuICBsZXQgdmFsdWVzID0gW1wibG93XCIsIFwibWVkaXVtXCIsIFwiaGlnaFwiXTtcbiAgZm9yIChsZXQgdmFsdWUgb2YgdmFsdWVzKSB7XG4gICAgbGV0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgb3B0aW9uLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIHZhbHVlKTtcbiAgICBvcHRpb24udGV4dENvbnRlbnQgPSB2YWx1ZTtcbiAgICBwcmlvcml0eVNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICB9XG5cbiAgbGV0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xuICBidXR0b24uc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJhZGQtdG9kby1idXR0b25cIik7XG4gIGJ1dHRvbi50ZXh0Q29udGVudCA9IFwiQWRkXCI7XG4gIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGdlbmVyYXRlVG9kb1Byb2plY3QocHJvamVjdCwgcHJvamVjdHMsIGxpc3QpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGl0bGVcIikudmFsdWUgPSBcIlwiO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVzY3JpcHRpb25cIikudmFsdWUgPSBcIlwiO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZHVlXCIpLnZhbHVlID0gZm9ybWF0dGVkRGF0ZTtcbiAgfSk7XG5cbiAgZm9ybURpdi5hcHBlbmRDaGlsZCh0aXRsZUlucHV0KTtcbiAgZm9ybURpdi5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbklucHV0KTtcbiAgZm9ybURpdi5hcHBlbmRDaGlsZChkdWVJbnB1dCk7XG4gIGZvcm1EaXYuYXBwZW5kQ2hpbGQocHJpb3JpdHlTZWxlY3QpO1xuICBmb3JtRGl2LmFwcGVuZENoaWxkKGJ1dHRvbik7XG5cbiAgbGlzdC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGZvcm1EaXYpO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQ3JlYXRlcyBwcm9qZWN0IG5hbWUgZm9ybVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVByb2plY3ROYW1lRm9ybShwcm9qZWN0cywgbGlzdCkge1xuICBsZXQgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgbGV0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICBsZXQgYWRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICBjb250YWluZXIuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJwcm9qZWN0LW5hbWUtY29udGFpbmVyXCIpO1xuXG4gIGlucHV0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuICBpbnB1dC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInByb2plY3QtbmFtZVwiKTtcbiAgaW5wdXQuc2V0QXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIiwgXCJQcm9qZWN0IG5hbWVcIik7XG5cbiAgYWRkLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiYWRkLXByb2plY3QtYnV0dG9uXCIpO1xuICBhZGQudGV4dENvbnRlbnQgPSBcIkFkZFwiO1xuXG4gIC8vIEV2ZW50IGxpc3RlbmVyIGZvciBhZGRpbmcgcHJvamVjdCBhZnRlciB0eXBpbmcgbmFtZVxuICBhZGQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBwcm9qZWN0cy5hZGRQcm9qZWN0KG5ldyBQcm9qZWN0KGlucHV0LnZhbHVlKSk7XG5cbiAgICAvLyBXZSB3YW50IHRvIHJlZmxlY3QgdGhlIGFkZGVkIHByb2plY3Qgb24gdGhlIGxpc3QuXG4gICAgcmVtb3ZlQ2hpbGRyZW5Gcm9tTmF2KGxpc3QpO1xuICAgIHBvcHVsYXRlUHJvamVjdHMocHJvamVjdHMsIGxpc3QpO1xuXG4gICAgdXBkYXRlUHJvamVjdHNTdG9yYWdlKHByb2plY3RzKTtcbiAgfSk7XG5cbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGlucHV0KTtcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGFkZCk7XG4gIGxpc3QuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbn1cbiIsImltcG9ydCB7XG4gIGNoZWNrU3RvcmFnZSxcbiAgbG9hZEluYm94RnJvbVN0b3JhZ2UsXG4gIGxvYWRQcm9qZWN0c0Zyb21TdG9yYWdlLFxufSBmcm9tIFwiLi9zdG9yYWdlXCI7XG5pbXBvcnQgeyBjcmVhdGVJbmJveEZvcm0sIGNyZWF0ZVByb2plY3ROYW1lRm9ybSB9IGZyb20gXCIuL2Zvcm1cIjtcbmltcG9ydCB7XG4gIHJlbW92ZUNoaWxkcmVuLFxuICByZW1vdmVDaGlsZHJlbkZyb21OYXYsXG4gIHBvcHVsYXRlSW5ib3gsXG4gIHBvcHVsYXRlUHJvamVjdHMsXG59IGZyb20gXCIuL2hlbHBlckZ1bmN0aW9uc1wiO1xuLy8gaW1wb3J0IHsgY2xlYXJMb2NhbFN0b3JhZ2UgfSBmcm9tIFwiLi90ZXN0XCI7XG5cbmxldCBpbmJveDtcbmxldCBwcm9qZWN0cztcblxuLy8gSW5ib3ggYnV0dG9uIGV2ZW50IGxpc3RlbmVyIHN0dWZmLlxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbmJveFwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBsZXQgbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbGlzdFwiKTtcbiAgcmVtb3ZlQ2hpbGRyZW4oKTsgLy8gQ2xlYXIgY29udGVudFxuICBwb3B1bGF0ZUluYm94KGluYm94LCBsaXN0KTsgLy8gUG9wdWxhdGVcbiAgY3JlYXRlSW5ib3hGb3JtKGluYm94LCBsaXN0KTsgLy8gQ3JlYXRlICYgYWRkIGZvcm1cbn0pO1xuXG4vLyBQcm9qZWN0cyBidXR0b24gZXZlbnQgbGlzdGVuZXIgc3R1ZmYuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3RzXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGxldCBsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9qZWN0cy1saXN0XCIpO1xuXG4gIC8vIEFsbG93cyBmb3IgdG9nZ2xpbmcgZnVuY3Rpb25hbGl0eVxuICBpZiAobGlzdC5jaGlsZE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICByZW1vdmVDaGlsZHJlbkZyb21OYXYobGlzdCk7XG4gIH0gZWxzZSB7XG4gICAgcmVtb3ZlQ2hpbGRyZW5Gcm9tTmF2KGxpc3QpO1xuICAgIHBvcHVsYXRlUHJvamVjdHMocHJvamVjdHMsIGxpc3QpO1xuICB9XG5cbiAgcHJvamVjdHMuc2hvd1Byb2plY3RzKCk7XG59KTtcblxuLy8gQWRkIHByb2plY3QgYnV0dG9uIGV2ZW50IGxpc3RlbmVyIHN0dWZmLlxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtcHJvamVjdFwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBsZXQgbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdHMtbGlzdFwiKTtcbiAgcmVtb3ZlQ2hpbGRyZW5Gcm9tTmF2KCk7XG4gIHBvcHVsYXRlUHJvamVjdHMocHJvamVjdHMsIGxpc3QpO1xuICBjcmVhdGVQcm9qZWN0TmFtZUZvcm0ocHJvamVjdHMsIGxpc3QpO1xufSk7XG5cbi8vIGxldCBzYW1wbGVQcm9qZWN0cyA9IFtcbi8vICAge1xuLy8gICAgIHRpdGxlOiBcInRpdGxlMVwiLFxuLy8gICAgIHRvZG9zOiBbXG4vLyAgICAgICB7IHRpdGxlOiBcInRvZG8xXCIsIGRlc2NyaXB0aW9uOiBcImRlc2MxXCIsIGR1ZTogXCJ0b2RheVwiLCBzZXZlcml0eTogXCJsb3dcIiB9LFxuLy8gICAgICAge1xuLy8gICAgICAgICB0aXRsZTogXCJ0b2RvMlwiLFxuLy8gICAgICAgICBkZXNjcmlwdGlvbjogXCJkZXNjMlwiLFxuLy8gICAgICAgICBkdWU6IFwidG9tb3Jyb3dcIixcbi8vICAgICAgICAgc2V2ZXJpdHk6IFwibWVkaXVtXCIsXG4vLyAgICAgICB9LFxuLy8gICAgIF0sXG4vLyAgIH0sXG4vLyAgIHtcbi8vICAgICB0aXRsZTogXCJ0aXRsZTJcIixcbi8vICAgICB0b2RvczogW1xuLy8gICAgICAge1xuLy8gICAgICAgICB0aXRsZTogXCJ0b2RvNVwiLFxuLy8gICAgICAgICBkZXNjcmlwdGlvbjogXCJkZXNjNVwiLFxuLy8gICAgICAgICBkdWU6IFwieWVzdGVyZGF5XCIsXG4vLyAgICAgICAgIHNldmVyaXR5OiBcImhpZ2hcIixcbi8vICAgICAgIH0sXG4vLyAgICAgXSxcbi8vICAgfSxcbi8vICAgeyB0aXRsZTogXCJ0aXRsZTNcIiwgdG9kb3M6IFtdIH0sXG4vLyBdO1xuLy8gbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwcm9qZWN0c1wiLCBKU09OLnN0cmluZ2lmeShzYW1wbGVQcm9qZWN0cykpO1xuXG4vLyBjbGVhckxvY2FsU3RvcmFnZSgpO1xuY2hlY2tTdG9yYWdlKCk7XG5pbmJveCA9IGxvYWRJbmJveEZyb21TdG9yYWdlKCk7XG4vLyBpbmJveC5zaG93SW5ib3goKTtcblxucHJvamVjdHMgPSBsb2FkUHJvamVjdHNGcm9tU3RvcmFnZSgpO1xuLy8gcHJvamVjdHMuc2hvd1Byb2plY3RzKCk7XG4iXSwibmFtZXMiOlsiSW5ib3giLCJhZGRUb2RvIiwidG9kbyIsInRoaXMiLCJwdXNoIiwiaW5ib3giLCJyZW1vdmVUb2RvIiwidGl0bGUiLCJpbmRleCIsImkiLCJsZW5ndGgiLCJzcGxpY2UiLCJzdHJpbmdpZnkiLCJnZXRUb2RvIiwiSlNPTiIsInNob3dJbmJveCIsInNob3dUb2RvIiwiVG9kbyIsImNvbnN0cnVjdG9yIiwiZGVzY3JpcHRpb24iLCJkdWUiLCJwcmlvcml0eSIsImNvbnNvbGUiLCJsb2ciLCJTaW1wbGVUb2RvIiwiUHJvamVjdHMiLCJwcm9qZWN0cyIsImFkZFByb2plY3QiLCJwcm9qZWN0IiwicmVtb3ZlUHJvamVjdCIsInNob3dQcm9qZWN0cyIsInNob3dQcm9qZWN0IiwiUHJvamVjdCIsInByb2plY3RUaXRsZSIsInVwZGF0ZUluYm94U3RvcmFnZSIsImxvY2FsU3RvcmFnZSIsInVwZGF0ZVByb2plY3RzU3RvcmFnZSIsInJlbW92ZUNoaWxkcmVuIiwibGlzdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNoaWxkTm9kZXMiLCJyZW1vdmVDaGlsZCIsImZpcnN0Q2hpbGQiLCJyZW1vdmUiLCJyZW1vdmVDaGlsZHJlbkZyb21OYXYiLCJwb3B1bGF0ZU1haW4iLCJ0b2RvcyIsImxpIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsInRvZG9UZXh0IiwidGV4dENvbnRlbnQiLCJhcHBlbmRDaGlsZCIsInBvcHVsYXRlUHJvamVjdHMiLCJhZGRFdmVudExpc3RlbmVyIiwiY3JlYXRlUHJvamVjdEZvcm0iLCJwcm9qZWN0VGV4dCIsImNyZWF0ZUNoZWNrYm94IiwiY2hlY2tib3giLCJlIiwidGFyZ2V0IiwicGFyZW50RWxlbWVudCIsImdldEF0dHJpYnV0ZSIsInJlbW92ZVBhcmVudCIsImZvcm1EaXYiLCJ0aXRsZUlucHV0IiwiZGVzY3JpcHRpb25JbnB1dCIsInRvZGF5IiwiRGF0ZSIsImZvcm1hdHRlZERhdGUiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwidG9TdHJpbmciLCJwYWRTdGFydCIsImdldERhdGUiLCJkdWVJbnB1dCIsInByaW9yaXR5U2VsZWN0IiwidmFsdWVzIiwidmFsdWUiLCJvcHRpb24iLCJidXR0b24iLCJnZW5lcmF0ZVRvZG9Qcm9qZWN0IiwicGFyZW50Tm9kZSIsInBvcHVsYXRlSW5ib3giLCJnZW5lcmF0ZVRvZG8iLCJjcmVhdGVJbmJveEZvcm0iLCJjb250YWluZXIiLCJpbnB1dCIsImFkZCIsImNyZWF0ZVByb2plY3ROYW1lRm9ybSIsInNldEl0ZW0iLCJjaGVja1N0b3JhZ2UiLCJpbmJveEZyb21Mb2NhbCIsImdldEl0ZW0iLCJwYXJzZSIsInRvZG9Gcm9tTG9jYWwiLCJsb2FkSW5ib3hGcm9tU3RvcmFnZSIsInByb2plY3RzRnJvbUxvY2FsIiwicHJvamVjdEZyb21Mb2NhbCIsInRvZG9UaXRsZSIsInRvZG9EZXNjcmlwdGlvbiIsInRvZG9EdWUiLCJ0b2RvUHJpb3JpdHkiLCJwcm9qZWN0VG9kbyIsImxvYWRQcm9qZWN0c0Zyb21TdG9yYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==