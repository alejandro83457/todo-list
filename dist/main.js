(()=>{"use strict";class t{#t;#e;constructor(t,e){this.#t=t,this.#e=e}get title(){return this.#t}get description(){return this.#e}getTodo(){return{title:this.#t,description:this.#e}}showTodo(){console.log(`${this.#t} ${this.#e}`)}}class e{#o=[];addTodo(t){this.#o.push(t)}get inbox(){return this.#o}removeTodo(t){let e;for(let o=0;o<this.#o.length;o++)this.#o[o].title==t&&(e=o);this.#o.splice(e,1)}stringify(){let t=[];for(let e of this.#o)t.push(e.getTodo());return JSON.stringify(t)}showInbox(){for(let t of this.#o)t.showTodo()}}let o,i=document.querySelector("#list"),n=document.querySelector("#inbox"),l=document.querySelector("#todo-button");function r(){console.log(o.stringify()),localStorage.inbox=o.stringify()}function c(t){let e=t.target.parentElement,i=e.getAttribute("data");console.log(`Parent with data: ${i} removed`),e.remove(),o.removeTodo(i),r()}n.addEventListener("click",(()=>function(){console.log("Inbox button clicked."),function(){for(;i.childNodes.length>0;)i.removeChild(i.firstChild)}();for(let t of o.inbox){let e=document.createElement("li");e.textContent=`${t.title} ${t.description}`,e.setAttribute("data",t.title);let o=document.createElement("button");o.textContent="Remove",o.addEventListener("click",(t=>c(t))),e.appendChild(o),i.appendChild(e)}}())),l.addEventListener("click",(()=>function(){let e=document.querySelector("#title"),n=document.querySelector("#description"),l=document.createElement("li");l.setAttribute("data",e.value);let s=document.createElement("button");s.textContent="Remove",s.addEventListener("click",(t=>c(t))),l.textContent=`${e.value} ${n.value}`,l.appendChild(s),i.appendChild(l);let d=new t(e.value,n.value);o.addTodo(d),r()}())),function(){if(0==localStorage.length){console.log("Empty. Loading content...");let t=[],e={};localStorage.setItem("inbox",JSON.stringify(t)),localStorage.setItem("projects",JSON.stringify(e))}}(),function(){let i=localStorage.getItem("inbox");i=JSON.parse(i),o=new e;for(let e of i){let i=e.title,n=e.description,l=new t(i,n);o.addTodo(l)}}(),o.showInbox()})();